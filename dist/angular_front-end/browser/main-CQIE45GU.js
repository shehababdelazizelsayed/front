import{$ as Ge,A as U,B as E,C as S,D as de,E as Tr,F as Ee,G as c,H as se,I as N,J as On,K as D,L,M as R,N as Qt,O as kn,P as Nn,Q as Ci,R as ue,S as ye,T as Mn,U as Pn,V as In,W as Dn,X as Ln,Y as Ti,Z as we,_ as fe,a as oe,aa as ze,b as Ei,ba as he,c as bs,ca as Qe,d as Sn,da as Ai,e as yi,ea as Oi,f as Cr,fa as ki,g as wi,ga as Xe,h as xn,ha as Rn,i as Si,ia as Ni,j as b,ja as $n,k as v,ka as Vn,l as q,la as Mi,m as X,ma as Fn,n as Cn,na as Ie,o as Tn,oa as De,p as Ue,pa as Bn,q as An,qa as Xt,r as m,ra as Wn,s as $,sa as ae,t as I,u as xi,v as A,w as g,x as s,y as a,z as y}from"./chunk-XLSXSMKF.js";function vs(i,e){i&1&&(q(),s(0,"svg",12),y(1,"circle",17)(2,"circle",18)(3,"path",19),a())}function Es(i,e){i&1&&(q(),s(0,"svg",12),y(1,"polyline",20),a())}var kt=class i{constructor(e,t){this.router=e;this.api=t}book;addingToCart=!1;addedToCart=!1;addToCart(){!this.book?.id||this.addingToCart||(this.addingToCart=!0,this.api.addBookToCart(this.book.id,1).subscribe({next:()=>{this.addedToCart=!0,this.addingToCart=!1,setTimeout(()=>{this.addedToCart=!1},2e3)},error:e=>{this.addingToCart=!1,alert("Failed to add item to cart.")}}))}viewProduct(){this.book.id&&this.router.navigate(["/product",this.book.id])}static \u0275fac=function(t){return new(t||i)($(Ie),$(ae))};static \u0275cmp=I({type:i,selectors:[["app-book-card"]],inputs:{book:"book"},standalone:!1,decls:23,vars:12,consts:[[1,"book-card","animate-scale-in"],[1,"book-card-image"],[1,"w-100",3,"src","alt"],[1,"book-card-overlay"],[1,"book-card-content"],[1,"genre-badge"],[1,"h5","fw-bold","mb-1"],[1,"text-muted-custom","small","mb-3"],[1,"d-flex","align-items-center","justify-content-between"],[1,"fs-4","fw-bold","text-accent"],[1,"d-flex","gap-2"],[1,"btn","btn-outline-accent","btn-sm",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["cx","12","cy","12","r","3"],[1,"btn","btn-accent","btn-sm","d-flex","align-items-center",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],["cx","8","cy","21","r","1"],["cx","19","cy","21","r","1"],["d","M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"],["points","20 6 9 17 4 12"]],template:function(t,r){t&1&&(s(0,"div",0)(1,"div",1),y(2,"img",2),a(),y(3,"div",3),s(4,"div",4)(5,"span",5),c(6),a(),s(7,"h3",6),c(8),a(),s(9,"p",7),c(10),a(),s(11,"div",8)(12,"span",9),c(13),a(),s(14,"div",10)(15,"button",11),E("click",function(){return r.viewProduct()}),q(),s(16,"svg",12),y(17,"path",13)(18,"circle",14),a()(),X(),s(19,"button",15),E("click",function(){return r.addToCart()}),A(20,vs,4,0,"svg",16)(21,Es,2,0,"svg",16),c(22),a()()()()()),t&2&&(m(2),g("src",r.book.image,Ue)("alt",r.book.title),m(4),se(r.book.Category),m(2),se(r.book.title),m(2),se(r.book.author),m(3),N("$",r.book.price),m(6),Ee("btn-success",r.addedToCart),g("disabled",r.addingToCart),m(),g("ngIf",!r.addedToCart),m(),g("ngIf",r.addedToCart),m(),N(" ",r.addingToCart?"Adding...":r.addedToCart?"Added!":"Add"," "))},dependencies:[ye],styles:[".book-card[_ngcontent-%COMP%]{height:100%;background:var(--gradient-card);border-radius:var(--bs-border-radius);box-shadow:var(--shadow-card);transition:all .3s ease}.book-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:var(--shadow-glow)}.book-card-image[_ngcontent-%COMP%]{position:relative;padding-top:140%}.book-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;border-radius:var(--bs-border-radius) var(--bs-border-radius) 0 0}.book-card-content[_ngcontent-%COMP%]{padding:1.5rem}.genre-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;background:var(--bs-secondary);color:var(--bs-muted);border-radius:1rem;font-size:.75rem;font-weight:500;margin-bottom:.75rem;transition:all .3s ease}.book-card[_ngcontent-%COMP%]:hover   .genre-badge[_ngcontent-%COMP%]{background:var(--bs-primary);color:#fff}"]})};function ys(i,e){if(i&1&&(s(0,"div",16)(1,"div",17),y(2,"img",18),a()()),i&2){let t=e.$implicit,r=e.index,n=S();Tr("opacity",r===n.currentSlide?1:0)("transition","opacity 1s ease-in-out"),m(2),g("src",t.image,Ue)("alt",t.title)}}function ws(i,e){if(i&1){let t=U();s(0,"button",19),E("click",function(){let n=b(t).index,o=S();return v(o.goToSlide(n))}),a()}if(i&2){let t=e.index,r=S();Tr("width",t===r.currentSlide?"48px":"8px")("height","8px")("background",t===r.currentSlide?"var(--bs-primary)":"var(--bs-muted)")("transition","all 0.3s ease")}}var Pi=class i{heroBooks=[{title:"The Art of Programming",subtitle:"A Comprehensive Guide to Software Development",price:"$49.99",image:"/assets/books/book1.jpg"},{title:"Digital Dreams",subtitle:"The Future of Technology",price:"$39.99",image:"/assets/books/book2.jpg"},{title:"Web Development Mastery",subtitle:"From Beginner to Professional",price:"$44.99",image:"/assets/books/book3.jpg"}];currentSlide=0;slideInterval;ngOnInit(){this.startSlideShow()}ngOnDestroy(){this.slideInterval&&clearInterval(this.slideInterval)}startSlideShow(){this.slideInterval=setInterval(()=>{this.nextSlide()},5e3)}nextSlide(){this.currentSlide=(this.currentSlide+1)%this.heroBooks.length}prevSlide(){this.currentSlide=(this.currentSlide-1+this.heroBooks.length)%this.heroBooks.length}goToSlide(e){this.currentSlide=e}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=I({type:i,selectors:[["app-hero-sec"]],standalone:!1,decls:21,vars:5,consts:[[1,"hero-section","position-relative"],[1,"position-absolute","top-0","start-0","w-100","h-100","bg-gradient-hero"],["class","position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",3,"opacity","transition",4,"ngFor","ngForOf"],[1,"position-absolute","bottom-0","start-50","translate-middle-x","text-center","mb-5","pb-5","animate-fade-in",2,"z-index","10"],[1,"display-1","fw-bold","mb-3",2,"letter-spacing","0.1em"],[1,"fs-4","text-muted-custom","mb-4"],[1,"d-flex","align-items-center","justify-content-center","gap-4"],[1,"display-5","fw-bold","text-accent"],[1,"btn","btn-accent","btn-lg"],[1,"btn","position-absolute","top-50","start-0","translate-middle-y","ms-4","rounded-circle","bg-white","bg-opacity-50",2,"width","48px","height","48px","z-index","20","backdrop-filter","blur(8px)",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","m15 18-6-6 6-6"],[1,"btn","position-absolute","top-50","end-0","translate-middle-y","me-4","rounded-circle","bg-white","bg-opacity-50",2,"width","48px","height","48px","z-index","20","backdrop-filter","blur(8px)",3,"click"],["d","m9 18 6-6-6-6"],[1,"position-absolute","bottom-0","start-50","translate-middle-x","d-flex","gap-2","mb-3",2,"z-index","20"],["class","border-0 rounded-pill",3,"width","height","background","transition","click",4,"ngFor","ngForOf"],[1,"position-absolute","top-0","start-0","w-100","h-100","d-flex","align-items-center","justify-content-center"],[1,"position-relative"],[1,"hero-image","animate-float",3,"src","alt"],[1,"border-0","rounded-pill",3,"click"]],template:function(t,r){t&1&&(s(0,"section",0),y(1,"div",1),A(2,ys,3,6,"div",2),s(3,"div",3)(4,"h2",4),c(5),a(),s(6,"p",5),c(7),a(),s(8,"div",6)(9,"span",7),c(10),a(),s(11,"button",8),c(12,"Add to Cart"),a()()(),s(13,"button",9),E("click",function(){return r.prevSlide()}),q(),s(14,"svg",10),y(15,"path",11),a()(),X(),s(16,"button",12),E("click",function(){return r.nextSlide()}),q(),s(17,"svg",10),y(18,"path",13),a()(),X(),s(19,"div",14),A(20,ws,1,8,"button",15),a()()),t&2&&(m(2),g("ngForOf",r.heroBooks),m(3),N(" ",r.heroBooks[r.currentSlide].title," "),m(2),N(" ",r.heroBooks[r.currentSlide].subtitle," "),m(3),N(" ",r.heroBooks[r.currentSlide].price," "),m(10),g("ngForOf",r.heroBooks))},dependencies:[ue],styles:[".hero-section[_ngcontent-%COMP%]{padding-top:70px}.hero-image[_ngcontent-%COMP%]{max-width:100%;height:auto}"]})};function xs(i,e){if(i&1){let t=U();s(0,"div",6),E("click",function(){let n=b(t).$implicit,o=S();return v(o.navigateToCategory(n.name))}),s(1,"h4",7),c(2),a(),s(3,"p",8),c(4),a()()}if(i&2){let t=e.$implicit;m(2),se(t.name),m(2),N("",t.count," books")}}var Ii=class i{constructor(e){this.router=e}categories=[{name:"Fiction",count:245},{name:"Non-Fiction",count:189},{name:"Science Fiction",count:156},{name:"Technology",count:178},{name:"Business",count:134}];navigateToCategory(e){this.router.navigate(["/category"],{queryParams:{cat:e.toLowerCase()}})}static \u0275fac=function(t){return new(t||i)($(Ie))};static \u0275cmp=I({type:i,selectors:[["app-cat"]],standalone:!1,decls:8,vars:1,consts:[["id","categories",1,"container","py-5"],[1,"text-center","mb-5"],[1,"display-5","fw-bold","mb-3"],[1,"text-muted-custom","fs-5","mb-0"],[1,"d-flex","flex-wrap","justify-content-center","gap-4"],["class","genre-box text-center p-4",3,"click",4,"ngFor","ngForOf"],[1,"genre-box","text-center","p-4",3,"click"],[1,"fw-semibold","mb-2"],[1,"mb-0","small","text-muted-custom"]],template:function(t,r){t&1&&(s(0,"section",0)(1,"div",1)(2,"h2",2),c(3,"Explore Genres"),a(),s(4,"p",3),c(5,"Find your next favorite book by genre"),a()(),s(6,"div",4),A(7,xs,5,2,"div",5),a()()),t&2&&(m(7),g("ngForOf",r.categories))},dependencies:[ue],styles:["#categories[_ngcontent-%COMP%]{text-align:center}.genre-box[_ngcontent-%COMP%]{background:var(--gradient-card);border:1px solid var(--bs-border-color);border-radius:var(--bs-border-radius);width:180px;cursor:pointer;transition:all .3s ease;box-shadow:0 6px 16px #1a1a2e0d}.genre-box[_ngcontent-%COMP%]:hover{transform:translateY(-6px);background:#fff;border-color:var(--bs-primary);box-shadow:0 8px 24px rgba(var(--bs-primary-rgb),.2)}.genre-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--bs-body-color);transition:color .3s ease}.genre-box[_ngcontent-%COMP%]:hover   h4[_ngcontent-%COMP%]{color:var(--bs-primary)}.genre-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--bs-muted)}@media (max-width: 768px){.genre-box[_ngcontent-%COMP%]{width:140px;padding:1rem}}"]})};var Di=class i{currentYear=new Date().getFullYear();static \u0275fac=function(t){return new(t||i)};static \u0275cmp=I({type:i,selectors:[["app-footer"]],standalone:!1,decls:11,vars:1,consts:[[1,"footer","mt-5","py-5","text-center"],[1,"container"],[1,"fw-bold","mb-3","text-primary-custom"],[1,"text-muted-custom","mb-4"],[1,"section-divider","my-4"],[1,"text-muted-custom","small"]],template:function(t,r){t&1&&(s(0,"footer",0)(1,"div",1)(2,"h4",2),c(3,"BOOKVERSE"),a(),s(4,"p",3),c(5," Discover, explore, and fall in love with stories across every genre. "),a(),y(6,"div",4),s(7,"div",5),c(8),s(9,"strong"),c(10,"Team-0"),a()()()()),t&2&&(m(8),N(" \xA9 ",r.currentYear," BOOKVERSE \u2014 All rights reserved. Made by "))},styles:[".footer[_ngcontent-%COMP%]{background:linear-gradient(180deg,#f9fafb,#eef2f6);color:var(--bs-body-color);border-top:1px solid var(--bs-border-color);position:relative;z-index:10}.section-divider[_ngcontent-%COMP%]{width:100%;height:2px;background:linear-gradient(to right,transparent,rgba(var(--bs-primary-rgb),.25),rgba(var(--bs-accent-rgb),.35),transparent);border-radius:2px;opacity:.6;background-size:200% 100%;animation:_ngcontent-%COMP%_shimmerSoft 12s ease-in-out infinite}@keyframes _ngcontent-%COMP%_shimmerSoft{0%{background-position:100% 0}50%{background-position:0% 0}to{background-position:100% 0}}.footer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{letter-spacing:1px;font-weight:700;text-transform:uppercase}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;font-size:.95rem;line-height:1.6}"]})};function As(i,e){if(i&1&&(s(0,"div",6),c(1),a()),i&2){let t=S();m(),N(" ",t.errorMessage,`
`)}}function Os(i,e){if(i&1&&(s(0,"div",7),y(1,"app-book-card",8),a()),i&2){let t=e.$implicit;m(),g("book",t)}}var Li=class i{constructor(e){this.api=e}featuredBooks=[];loading=!1;errorMessage="";ngOnInit(){this.fetchBooks()}fetchBooks(){this.loading=!0,this.api.DisplayHome().subscribe({next:e=>{this.featuredBooks=e.books.map(t=>({id:t._id,title:t.Title,author:t.Author,genre:t.Genre||"Unknown",price:t.Price,description:t.Description,image:t.Image||"assets/books/default.jpg"})),this.loading=!1},error:e=>{this.errorMessage="Failed to load books",this.loading=!1}})}static \u0275fac=function(t){return new(t||i)($(ae))};static \u0275cmp=I({type:i,selectors:[["app-home"]],standalone:!1,decls:10,vars:2,consts:[[1,"container","py-5"],["class","error-message",4,"ngIf"],[1,"display-6","fw-bold","mb-4"],[1,"row","g-4"],["class","col-12 col-md-6 col-lg-3",4,"ngFor","ngForOf"],[1,"section-divider","mt-5"],[1,"error-message"],[1,"col-12","col-md-6","col-lg-3"],[3,"book"]],template:function(t,r){t&1&&(y(0,"app-hero-sec"),s(1,"section",0),A(2,As,2,1,"div",1),s(3,"h2",2),c(4,"Featured Books"),a(),s(5,"div",3),A(6,Os,2,1,"div",4),a()(),y(7,"div",5)(8,"app-cat")(9,"app-footer")),t&2&&(m(2),g("ngIf",r.errorMessage),m(4),g("ngForOf",r.featuredBooks))},dependencies:[ue,ye,kt,Pi,Ii,Di],styles:[".section-divider[_ngcontent-%COMP%]{width:100%;height:3px;background:linear-gradient(to right,transparent,rgba(var(--bs-primary-rgb),.35),rgba(var(--bs-accent-rgb),.5),transparent);border-radius:2px;opacity:.7;background-size:200% 100%;animation:_ngcontent-%COMP%_shimmerSoft 12s ease-in-out infinite}@keyframes _ngcontent-%COMP%_shimmerSoft{0%{background-position:100% 0}50%{background-position:0% 0}to{background-position:100% 0}}"]})};var Nt=class i{SEARCH_STORAGE_KEY="lastSearchQuery";searchQuerySubject=new Cr(localStorage.getItem(this.SEARCH_STORAGE_KEY)||"");searchQuery$=this.searchQuerySubject.asObservable();filteredBooksSubject=new Cr([]);filteredBooks$=this.filteredBooksSubject.asObservable();updateSearchQuery(e){this.searchQuerySubject.next(e),localStorage.setItem(this.SEARCH_STORAGE_KEY,e)}getStoredSearchQuery(){return localStorage.getItem(this.SEARCH_STORAGE_KEY)||""}filterBooks(e,t){let r=[...e];if(t.query){let n=t.query.toLowerCase();r=r.filter(o=>o.title.toLowerCase().includes(n)||o.author.toLowerCase().includes(n)||o.Category.toLowerCase().includes(n))}t.category&&t.category!=="all"&&(r=r.filter(n=>n.Category.toLowerCase()===(t.category?.toLowerCase()??""))),t.priceRange&&(r=r.filter(n=>{let o=n.price;switch(t.priceRange){case"under-15":return o<15;case"15-30":return o>=15&&o<=30;case"30-50":return o>30&&o<=50;case"over-50":return o>50;default:return!0}})),t.sortBy&&r.sort((n,o)=>{let l=n.price,d=o.price;switch(t.sortBy){case"price-low":return l-d;case"price-high":return d-l;case"name-asc":return n.title.localeCompare(o.title);case"name-desc":return o.title.localeCompare(n.title);default:return 0}}),this.filteredBooksSubject.next(r)}updateFilteredBooks(e){this.filteredBooksSubject.next(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=xn({token:i,factory:i.\u0275fac,providedIn:"root"})};var ks=()=>({exact:!0}),Le=class i{constructor(e,t){this.router=e;this.searchService=t}onProfileClick(){localStorage.getItem("jwt")?this.router.navigate(["/profile"]):this.router.navigate(["/login"])}isSearchActive=!1;searchQuery="";destroy$=new yi;toggleSearch(){this.isSearchActive=!this.isSearchActive,this.isSearchActive||(this.searchQuery="",this.searchService.updateSearchQuery(""),this.router.url.includes("/category")&&this.router.navigate([],{queryParams:{search:null},queryParamsHandling:"merge"}))}updateSearch(){this.searchService.updateSearchQuery(this.searchQuery)}onDocumentClick(e){let t=e.target;!t.closest(".search-container")&&!t.closest(".btn-icon-custom")&&(this.isSearchActive=!1)}onSearchEnter(){let e=this.searchQuery.trim();this.searchService.updateSearchQuery(e),this.router.navigate(["/category"],{queryParams:{search:e||null},queryParamsHandling:"merge"}),this.isSearchActive=!1}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||i)($(Ie),$(Nt))};static \u0275cmp=I({type:i,selectors:[["app-nav"]],hostBindings:function(t,r){t&1&&E("click",function(o){return r.onDocumentClick(o)},An)},standalone:!1,decls:40,vars:5,consts:[[1,"navbar","navbar-expand-lg","fixed-top","navbar-dark-custom","mb-5"],[1,"container","py-3","position-relative"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav",1,"navbar-toggler","navbar-toggler-custom","border-0",2,"padding","0.5rem 0.75rem"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse",2,"flex-grow","0"],[1,"navbar-nav","gap-3","mb-2","mb-lg-0","nav-pills-container"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link","nav-link-custom","d-flex","flex-column","align-items-center","gap-1","px-4","py-2","position-relative",3,"routerLinkActiveOptions"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"],["points","9 22 9 12 15 12 15 22"],[2,"font-size","0.75rem","font-weight","500"],["routerLink","/category","routerLinkActive","active",1,"nav-link","nav-link-custom","d-flex","flex-column","align-items-center","gap-1","px-4","py-2","position-relative"],["d","M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"],["d","M3 6h18"],["d","M16 10a4 4 0 0 1-8 0"],["routerLink","/",1,"navbar-brand","fw-bold","fs-4","mb-0","navbar-brand-custom","d-none","d-lg-block"],[1,"navbar-arch"],[1,"d-flex","align-items-center","gap-3","ms-auto"],["type","button",1,"btn","btn-icon-custom","d-flex","align-items-center","justify-content-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","11","cy","11","r","8"],["d","m21 21-4.3-4.3"],["type","button","routerLink","/cart","routerLinkActive","active",1,"btn","btn-icon-custom","d-flex","align-items-center","justify-content-center"],["cx","8","cy","21","r","1"],["cx","19","cy","21","r","1"],["d","M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"search-container"],["type","text","placeholder","Search...","autofocus","",1,"form-control","search-input",3,"ngModelChange","keydown.enter","ngModel"]],template:function(t,r){t&1&&(s(0,"nav",0)(1,"div",1)(2,"button",2),y(3,"span",3),a(),s(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),q(),s(8,"svg",8),y(9,"path",9)(10,"polyline",10),a(),X(),s(11,"span",11),c(12,"Home"),a()()(),s(13,"li",6)(14,"a",12),q(),s(15,"svg",8),y(16,"path",13)(17,"path",14)(18,"path",15),a(),X(),s(19,"span",11),c(20,"Shop"),a()()()()(),s(21,"a",16),c(22,"BOOKVERSE"),a(),y(23,"div",17),s(24,"div",18)(25,"button",19),E("click",function(){return r.toggleSearch()}),q(),s(26,"svg",20),y(27,"circle",21)(28,"path",22),a()(),X(),s(29,"button",23),q(),s(30,"svg",20),y(31,"circle",24)(32,"circle",25)(33,"path",26),a()(),X(),s(34,"button",19),E("click",function(){return r.onProfileClick()}),q(),s(35,"svg",20),y(36,"path",27)(37,"circle",28),a()()()()(),X(),s(38,"div",29)(39,"input",30),R("ngModelChange",function(o){return L(r.searchQuery,o)||(r.searchQuery=o),o}),E("keydown.enter",function(){return r.onSearchEnter()}),a()()),t&2&&(m(7),g("routerLinkActiveOptions",Qt(4,ks)),m(31),Ee("active",r.isSearchActive),m(),D("ngModel",r.searchQuery))},dependencies:[De,Bn,we,fe,he],styles:['.navbar-dark-custom[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background-color:#000000f2!important;border-bottom:1px solid rgba(255,255,255,.1)}.navbar-brand-custom[_ngcontent-%COMP%]{color:#fff!important;letter-spacing:2px;position:absolute;left:50%;transform:translate(-50%)}.nav-pills-container[_ngcontent-%COMP%]{background:#ffffff0d;padding:.5rem;border-radius:50px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1)}.nav-link-custom[_ngcontent-%COMP%]{color:#fff9!important;text-decoration:none;transition:all .3s ease;min-width:70px;border-radius:30px}.nav-link-custom[_ngcontent-%COMP%]:hover{background-color:#ffffff1a!important;color:#ffffffe6!important}.nav-link-custom.active[_ngcontent-%COMP%]{background:#ffffff26!important;color:#fff!important;box-shadow:0 0 20px #ffffff1a}.btn-icon-custom[_ngcontent-%COMP%]{width:40px;height:40px;transition:all .3s ease;background:#ffffff0d!important;border:1px solid rgba(255,255,255,.1)!important;border-radius:50%;color:#ffffffb3!important}.btn-icon-custom[_ngcontent-%COMP%]:hover{background-color:#ffffff26!important;border-color:#ffffff4d!important;color:#fff!important;transform:translateY(-2px)}.btn-login-custom[_ngcontent-%COMP%]{transition:all .3s ease;font-weight:500;background:#ffffff1a!important;border:1px solid rgba(255,255,255,.2)!important;color:#fff!important;padding:.5rem 1.5rem;border-radius:25px}.btn-login-custom[_ngcontent-%COMP%]:hover{background-color:#fff3!important;border-color:#ffffff4d!important;transform:translateY(-2px)}.navbar-brand-custom[_ngcontent-%COMP%]:hover{opacity:.8}.navbar-toggler-custom[_ngcontent-%COMP%]{color:#fff!important;border:none!important}.navbar-toggler-custom[_ngcontent-%COMP%]:hover{background-color:#ffffff1a!important}.navbar-toggler-custom[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{filter:invert(1)}.search-container[_ngcontent-%COMP%]{position:fixed;top:90px;left:70%;transform:translate(-50%) scale(.8);width:0;opacity:0;overflow:hidden;border-radius:50px;transition:all .4s ease;z-index:1050;background:#ffffff0d;border:1px solid rgba(255,255,255,.2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 0 25px #0003;padding:.6rem 1.2rem}.search-container.active[_ngcontent-%COMP%]{width:400px;opacity:1;transform:translate(-50%) scale(1)}.search-input[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;font-weight:700;font-size:.95rem;outline:none}.search-input[_ngcontent-%COMP%]::placeholder{color:#fff9}.search-container.active[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}.search-input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:0 0 8px #ffffff40;transition:box-shadow .2s ease}.navbar-brand[_ngcontent-%COMP%]:after{border-left:3px solid white;height:200px}.navbar-brand-custom[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-40px;right:-40px;width:150px;height:150px;border:3px solid rgba(255,255,255,.5);border-left:none;border-bottom:none;border-radius:0 0 100%;transform:rotate(10deg)}.navbar-brand[_ngcontent-%COMP%]:before{border-left:3px solid white;height:200px}.navbar-brand-custom[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-40px;left:-40px;width:150px;height:150px;border:3px solid rgba(255,255,255,.5);border-right:none;border-bottom:none;border-radius:0 0 0 100%;transform:rotate(-10deg)}@media (max-width: 992px){.navbar-brand-custom[_ngcontent-%COMP%]{position:static;transform:none}}.navbar-brand-custom[_ngcontent-%COMP%]:hover:before, .navbar-brand-custom[_ngcontent-%COMP%]:hover:after{border-color:#fff;transition:border-color .3s ease}']})};function Ns(i,e){if(i&1&&(s(0,"option",20),c(1),a()),i&2){let t=e.$implicit;g("value",t.toLowerCase()),m(),N(" ",t," ")}}function Ms(i,e){if(i&1&&(s(0,"option",20),c(1),a()),i&2){let t=e.$implicit;g("value",t.value),m(),N(" ",t.label," ")}}function Ps(i,e){if(i&1){let t=U();s(0,"button",21),E("click",function(){let n=b(t).$implicit,o=S();return v(o.onPriceRangeChange(n))}),c(1),a()}if(i&2){let t=e.$implicit,r=S();Ee("btn-primary",r.selectedPrice===t)("btn-outline-secondary",r.selectedPrice!==t),m(),N(" ",t==="all"?"All Prices":t==="under-15"?"Under $15":t==="15-30"?"$15 - $30":t==="30-50"?"$30 - $50":"Over $50"," ")}}function Is(i,e){if(i&1&&(s(0,"div",22),y(1,"app-book-card",23),a()),i&2){let t=e.$implicit;m(),g("book",t)}}var $i=class i{constructor(e,t,r){this.searchService=e;this.route=t;this.api=r}selectedCategory="all";selectedSort="newest";selectedPrice="all";searchQuery="";categories=["all","Fiction","Non-Fiction","Science Fiction","Mystery","Romance","Technology"];priceRanges=["all","under-15","15-30","30-50","over-50"];sortOptions=[{value:"newest",label:"Newest"},{value:"price-low",label:"Price: Low to High"},{value:"price-high",label:"Price: High to Low"},{value:"name-asc",label:"Name: A to Z"},{value:"name-desc",label:"Name: Z to A"}];books=[];allBooks=[];loading=!1;errorMessage=null;destroy$=new yi;ngOnInit(){this.loadBooksFromApi(),this.searchService.searchQuery$.pipe(wi(this.destroy$)).subscribe(e=>{this.searchQuery=e,this.applyFilters()}),this.route.queryParams.pipe(wi(this.destroy$)).subscribe(e=>{e.cat&&(this.selectedCategory=e.cat.toLowerCase(),this.applyFilters())})}loadBooksFromApi(){this.loading=!0,this.api.getBooks().subscribe({next:e=>{console.log(" Books from API:",e);let t=Array.isArray(e)?e:e.books??[];this.allBooks=t.map(r=>({id:r._id,title:r.Title,author:r.Author,genre:r.Genre??"Unknown",price:Number(r.Price),description:r.Description,image:r.Image??"/assets/default-book.jpg"})),this.books=[...this.allBooks],this.loading=!1},error:e=>{console.error("Failed to load books:",e),this.errorMessage="Failed to load books",this.loading=!1}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}applyFilters(){this.searchService.filterBooks(this.allBooks,{query:this.searchQuery,category:this.selectedCategory,priceRange:this.selectedPrice,sortBy:this.selectedSort}),this.searchService.filteredBooks$.pipe(wi(this.destroy$)).subscribe(e=>{this.books=e})}onCategoryChange(e){this.selectedCategory=e.toLowerCase(),this.applyFilters()}onSortChange(){this.applyFilters()}onPriceRangeChange(e){this.selectedPrice=e,this.applyFilters()}static \u0275fac=function(t){return new(t||i)($(Nt),$(Mi),$(ae))};static \u0275cmp=I({type:i,selectors:[["app-category"]],standalone:!1,decls:34,vars:6,consts:[[1,"min-vh-100",2,"background","linear-gradient(to bottom, var(--bs-body-bg), var(--bs-secondary))"],[1,"container",2,"padding-top","120px","padding-bottom","80px"],[1,"mb-5","text-center","text-lg-start"],[1,"display-4","fw-bold","mb-3"],[1,"fs-5","text-muted-custom"],[1,"row","g-4"],[1,"col-lg-3"],[1,"card","shadow-lg","border"],[1,"card-body"],[1,"h5","fw-semibold","mb-4"],[1,"mb-4"],[1,"form-label","fw-medium"],[1,"form-select",3,"ngModelChange","ngModel"],["value","all"],[3,"value",4,"ngFor","ngForOf"],[1,"mb-0"],[1,"d-grid","gap-2"],["class","btn text-start",3,"btn-primary","btn-outline-secondary","click",4,"ngFor","ngForOf"],[1,"col-lg-9"],["class","col-12 col-md-6 col-xl-4",4,"ngFor","ngForOf"],[3,"value"],[1,"btn","text-start",3,"click"],[1,"col-12","col-md-6","col-xl-4"],[3,"book"]],template:function(t,r){t&1&&(s(0,"div",0),y(1,"app-nav"),s(2,"main",1)(3,"div",2)(4,"h1",3),c(5,"All Books"),a(),s(6,"p",4),c(7,"Discover our complete collection"),a()(),s(8,"div",5)(9,"div",6)(10,"aside",7)(11,"div",8)(12,"h3",9),c(13,"Filters"),a(),s(14,"div",10)(15,"label",11),c(16,"Category"),a(),s(17,"select",12),R("ngModelChange",function(o){return L(r.selectedCategory,o)||(r.selectedCategory=o),o}),E("ngModelChange",function(o){return r.onCategoryChange(o)}),s(18,"option",13),c(19,"All Categories"),a(),A(20,Ns,2,2,"option",14),a()(),s(21,"div",10)(22,"label",11),c(23,"Sort By"),a(),s(24,"select",12),R("ngModelChange",function(o){return L(r.selectedSort,o)||(r.selectedSort=o),o}),E("ngModelChange",function(){return r.onSortChange()}),A(25,Ms,2,2,"option",14),a()(),s(26,"div",15)(27,"label",11),c(28,"Price Range"),a(),s(29,"div",16),A(30,Ps,2,5,"button",17),a()()()()(),s(31,"div",18)(32,"div",5),A(33,Is,2,1,"div",19),a()()()()()),t&2&&(m(17),D("ngModel",r.selectedCategory),m(3),g("ngForOf",r.categories.slice(1)),m(4),D("ngModel",r.selectedSort),m(),g("ngForOf",r.sortOptions),m(5),g("ngForOf",r.priceRanges),m(3),g("ngForOf",r.books))},dependencies:[ue,Oi,ki,Ai,fe,he,Le,kt],encapsulation:2})};var Ui={};bs(Ui,{afterMain:()=>zn,afterRead:()=>qn,afterWrite:()=>Jn,applyStyles:()=>It,arrow:()=>Fi,auto:()=>Jt,basePlacements:()=>Be,beforeMain:()=>Un,beforeRead:()=>Kn,beforeWrite:()=>Qn,bottom:()=>z,clippingParents:()=>Ar,computeStyles:()=>Lt,createPopper:()=>ai,createPopperBase:()=>ao,createPopperLite:()=>lo,detectOverflow:()=>pe,end:()=>Je,eventListeners:()=>Rt,flip:()=>ji,hide:()=>Ki,left:()=>j,main:()=>Gn,modifierPhases:()=>kr,offset:()=>Yi,placements:()=>ei,popper:()=>ft,popperGenerator:()=>wt,popperOffsets:()=>Ft,preventOverflow:()=>qi,read:()=>Yn,reference:()=>Or,right:()=>G,start:()=>Re,top:()=>W,variationPlacements:()=>Vi,viewport:()=>Zt,write:()=>Xn});var W="top",z="bottom",G="right",j="left",Jt="auto",Be=[W,z,G,j],Re="start",Je="end",Ar="clippingParents",Zt="viewport",ft="popper",Or="reference",Vi=Be.reduce(function(i,e){return i.concat([e+"-"+Re,e+"-"+Je])},[]),ei=[].concat(Be,[Jt]).reduce(function(i,e){return i.concat([e,e+"-"+Re,e+"-"+Je])},[]),Kn="beforeRead",Yn="read",qn="afterRead",Un="beforeMain",Gn="main",zn="afterMain",Qn="beforeWrite",Xn="write",Jn="afterWrite",kr=[Kn,Yn,qn,Un,Gn,zn,Qn,Xn,Jn];function ee(i){return i?(i.nodeName||"").toLowerCase():null}function B(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var e=i.ownerDocument;return e&&e.defaultView||window}return i}function Se(i){var e=B(i).Element;return i instanceof e||i instanceof Element}function J(i){var e=B(i).HTMLElement;return i instanceof e||i instanceof HTMLElement}function Pt(i){if(typeof ShadowRoot>"u")return!1;var e=B(i).ShadowRoot;return i instanceof e||i instanceof ShadowRoot}function Ds(i){var e=i.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},n=e.attributes[t]||{},o=e.elements[t];!J(o)||!ee(o)||(Object.assign(o.style,r),Object.keys(n).forEach(function(l){var d=n[l];d===!1?o.removeAttribute(l):o.setAttribute(l,d===!0?"":d)}))})}function Ls(i){var e=i.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var n=e.elements[r],o=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),d=l.reduce(function(u,h){return u[h]="",u},{});!J(n)||!ee(n)||(Object.assign(n.style,d),Object.keys(o).forEach(function(u){n.removeAttribute(u)}))})}}var It={name:"applyStyles",enabled:!0,phase:"write",fn:Ds,effect:Ls,requires:["computeStyles"]};function te(i){return i.split("-")[0]}var Me=Math.max,ht=Math.min,We=Math.round;function Dt(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ti(){return!/^((?!chrome|android).)*safari/i.test(Dt())}function xe(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=i.getBoundingClientRect(),n=1,o=1;e&&J(i)&&(n=i.offsetWidth>0&&We(r.width)/i.offsetWidth||1,o=i.offsetHeight>0&&We(r.height)/i.offsetHeight||1);var l=Se(i)?B(i):window,d=l.visualViewport,u=!ti()&&t,h=(r.left+(u&&d?d.offsetLeft:0))/n,f=(r.top+(u&&d?d.offsetTop:0))/o,x=r.width/n,C=r.height/o;return{width:x,height:C,top:f,right:h+x,bottom:f+C,left:h,x:h,y:f}}function gt(i){var e=xe(i),t=i.offsetWidth,r=i.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:i.offsetLeft,y:i.offsetTop,width:t,height:r}}function ii(i,e){var t=e.getRootNode&&e.getRootNode();if(i.contains(e))return!0;if(t&&Pt(t)){var r=e;do{if(r&&i.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function me(i){return B(i).getComputedStyle(i)}function Nr(i){return["table","td","th"].indexOf(ee(i))>=0}function re(i){return((Se(i)?i.ownerDocument:i.document)||window.document).documentElement}function He(i){return ee(i)==="html"?i:i.assignedSlot||i.parentNode||(Pt(i)?i.host:null)||re(i)}function Zn(i){return!J(i)||me(i).position==="fixed"?null:i.offsetParent}function Rs(i){var e=/firefox/i.test(Dt()),t=/Trident/i.test(Dt());if(t&&J(i)){var r=me(i);if(r.position==="fixed")return null}var n=He(i);for(Pt(n)&&(n=n.host);J(n)&&["html","body"].indexOf(ee(n))<0;){var o=me(n);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return n;n=n.parentNode}return null}function Pe(i){for(var e=B(i),t=Zn(i);t&&Nr(t)&&me(t).position==="static";)t=Zn(t);return t&&(ee(t)==="html"||ee(t)==="body"&&me(t).position==="static")?e:t||Rs(i)||e}function _t(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function bt(i,e,t){return Me(i,ht(e,t))}function eo(i,e,t){var r=bt(i,e,t);return r>t?t:r}function ri(){return{top:0,right:0,bottom:0,left:0}}function ni(i){return Object.assign({},ri(),i)}function oi(i,e){return e.reduce(function(t,r){return t[r]=i,t},{})}var $s=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,ni(typeof e!="number"?e:oi(e,Be))};function Vs(i){var e,t=i.state,r=i.name,n=i.options,o=t.elements.arrow,l=t.modifiersData.popperOffsets,d=te(t.placement),u=_t(d),h=[j,G].indexOf(d)>=0,f=h?"height":"width";if(!(!o||!l)){var x=$s(n.padding,t),C=gt(o),w=u==="y"?W:j,V=u==="y"?z:G,T=t.rects.reference[f]+t.rects.reference[u]-l[u]-t.rects.popper[f],k=l[u]-t.rects.reference[u],F=Pe(o),K=F?u==="y"?F.clientHeight||0:F.clientWidth||0:0,Y=T/2-k/2,O=x[w],M=K-C[f]-x[V],P=K/2-C[f]/2+Y,H=bt(O,P,M),ie=u;t.modifiersData[r]=(e={},e[ie]=H,e.centerOffset=H-P,e)}}function Fs(i){var e=i.state,t=i.options,r=t.element,n=r===void 0?"[data-popper-arrow]":r;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||ii(e.elements.popper,n)&&(e.elements.arrow=n))}var Fi={name:"arrow",enabled:!0,phase:"main",fn:Vs,effect:Fs,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ce(i){return i.split("-")[1]}var Bs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ws(i,e){var t=i.x,r=i.y,n=e.devicePixelRatio||1;return{x:We(t*n)/n||0,y:We(r*n)/n||0}}function to(i){var e,t=i.popper,r=i.popperRect,n=i.placement,o=i.variation,l=i.offsets,d=i.position,u=i.gpuAcceleration,h=i.adaptive,f=i.roundOffsets,x=i.isFixed,C=l.x,w=C===void 0?0:C,V=l.y,T=V===void 0?0:V,k=typeof f=="function"?f({x:w,y:T}):{x:w,y:T};w=k.x,T=k.y;var F=l.hasOwnProperty("x"),K=l.hasOwnProperty("y"),Y=j,O=W,M=window;if(h){var P=Pe(t),H="clientHeight",ie="clientWidth";if(P===B(t)&&(P=re(t),me(P).position!=="static"&&d==="absolute"&&(H="scrollHeight",ie="scrollWidth")),P=P,n===W||(n===j||n===G)&&o===Je){O=z;var Z=x&&P===M&&M.visualViewport?M.visualViewport.height:P[H];T-=Z-r.height,T*=u?1:-1}if(n===j||(n===W||n===z)&&o===Je){Y=G;var Q=x&&P===M&&M.visualViewport?M.visualViewport.width:P[ie];w-=Q-r.width,w*=u?1:-1}}var ne=Object.assign({position:d},h&&Bs),ke=f===!0?Ws({x:w,y:T},B(t)):{x:w,y:T};if(w=ke.x,T=ke.y,u){var ce;return Object.assign({},ne,(ce={},ce[O]=K?"0":"",ce[Y]=F?"0":"",ce.transform=(M.devicePixelRatio||1)<=1?"translate("+w+"px, "+T+"px)":"translate3d("+w+"px, "+T+"px, 0)",ce))}return Object.assign({},ne,(e={},e[O]=K?T+"px":"",e[Y]=F?w+"px":"",e.transform="",e))}function Hs(i){var e=i.state,t=i.options,r=t.gpuAcceleration,n=r===void 0?!0:r,o=t.adaptive,l=o===void 0?!0:o,d=t.roundOffsets,u=d===void 0?!0:d,h={placement:te(e.placement),variation:Ce(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,to(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,to(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Lt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Hs,data:{}};var Bi={passive:!0};function js(i){var e=i.state,t=i.instance,r=i.options,n=r.scroll,o=n===void 0?!0:n,l=r.resize,d=l===void 0?!0:l,u=B(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&h.forEach(function(f){f.addEventListener("scroll",t.update,Bi)}),d&&u.addEventListener("resize",t.update,Bi),function(){o&&h.forEach(function(f){f.removeEventListener("scroll",t.update,Bi)}),d&&u.removeEventListener("resize",t.update,Bi)}}var Rt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:js,data:{}};var Ks={left:"right",right:"left",bottom:"top",top:"bottom"};function $t(i){return i.replace(/left|right|bottom|top/g,function(e){return Ks[e]})}var Ys={start:"end",end:"start"};function Wi(i){return i.replace(/start|end/g,function(e){return Ys[e]})}function vt(i){var e=B(i),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Et(i){return xe(re(i)).left+vt(i).scrollLeft}function Mr(i,e){var t=B(i),r=re(i),n=t.visualViewport,o=r.clientWidth,l=r.clientHeight,d=0,u=0;if(n){o=n.width,l=n.height;var h=ti();(h||!h&&e==="fixed")&&(d=n.offsetLeft,u=n.offsetTop)}return{width:o,height:l,x:d+Et(i),y:u}}function Pr(i){var e,t=re(i),r=vt(i),n=(e=i.ownerDocument)==null?void 0:e.body,o=Me(t.scrollWidth,t.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),l=Me(t.scrollHeight,t.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),d=-r.scrollLeft+Et(i),u=-r.scrollTop;return me(n||t).direction==="rtl"&&(d+=Me(t.clientWidth,n?n.clientWidth:0)-o),{width:o,height:l,x:d,y:u}}function yt(i){var e=me(i),t=e.overflow,r=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+n+r)}function Hi(i){return["html","body","#document"].indexOf(ee(i))>=0?i.ownerDocument.body:J(i)&&yt(i)?i:Hi(He(i))}function Ze(i,e){var t;e===void 0&&(e=[]);var r=Hi(i),n=r===((t=i.ownerDocument)==null?void 0:t.body),o=B(r),l=n?[o].concat(o.visualViewport||[],yt(r)?r:[]):r,d=e.concat(l);return n?d:d.concat(Ze(He(l)))}function Vt(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function qs(i,e){var t=xe(i,!1,e==="fixed");return t.top=t.top+i.clientTop,t.left=t.left+i.clientLeft,t.bottom=t.top+i.clientHeight,t.right=t.left+i.clientWidth,t.width=i.clientWidth,t.height=i.clientHeight,t.x=t.left,t.y=t.top,t}function io(i,e,t){return e===Zt?Vt(Mr(i,t)):Se(e)?qs(e,t):Vt(Pr(re(i)))}function Us(i){var e=Ze(He(i)),t=["absolute","fixed"].indexOf(me(i).position)>=0,r=t&&J(i)?Pe(i):i;return Se(r)?e.filter(function(n){return Se(n)&&ii(n,r)&&ee(n)!=="body"}):[]}function Ir(i,e,t,r){var n=e==="clippingParents"?Us(i):[].concat(e),o=[].concat(n,[t]),l=o[0],d=o.reduce(function(u,h){var f=io(i,h,r);return u.top=Me(f.top,u.top),u.right=ht(f.right,u.right),u.bottom=ht(f.bottom,u.bottom),u.left=Me(f.left,u.left),u},io(i,l,r));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function si(i){var e=i.reference,t=i.element,r=i.placement,n=r?te(r):null,o=r?Ce(r):null,l=e.x+e.width/2-t.width/2,d=e.y+e.height/2-t.height/2,u;switch(n){case W:u={x:l,y:e.y-t.height};break;case z:u={x:l,y:e.y+e.height};break;case G:u={x:e.x+e.width,y:d};break;case j:u={x:e.x-t.width,y:d};break;default:u={x:e.x,y:e.y}}var h=n?_t(n):null;if(h!=null){var f=h==="y"?"height":"width";switch(o){case Re:u[h]=u[h]-(e[f]/2-t[f]/2);break;case Je:u[h]=u[h]+(e[f]/2-t[f]/2);break;default:}}return u}function pe(i,e){e===void 0&&(e={});var t=e,r=t.placement,n=r===void 0?i.placement:r,o=t.strategy,l=o===void 0?i.strategy:o,d=t.boundary,u=d===void 0?Ar:d,h=t.rootBoundary,f=h===void 0?Zt:h,x=t.elementContext,C=x===void 0?ft:x,w=t.altBoundary,V=w===void 0?!1:w,T=t.padding,k=T===void 0?0:T,F=ni(typeof k!="number"?k:oi(k,Be)),K=C===ft?Or:ft,Y=i.rects.popper,O=i.elements[V?K:C],M=Ir(Se(O)?O:O.contextElement||re(i.elements.popper),u,f,l),P=xe(i.elements.reference),H=si({reference:P,element:Y,strategy:"absolute",placement:n}),ie=Vt(Object.assign({},Y,H)),Z=C===ft?ie:P,Q={top:M.top-Z.top+F.top,bottom:Z.bottom-M.bottom+F.bottom,left:M.left-Z.left+F.left,right:Z.right-M.right+F.right},ne=i.modifiersData.offset;if(C===ft&&ne){var ke=ne[n];Object.keys(Q).forEach(function(ce){var lt=[G,z].indexOf(ce)>=0?1:-1,ct=[W,z].indexOf(ce)>=0?"y":"x";Q[ce]+=ke[ct]*lt})}return Q}function Dr(i,e){e===void 0&&(e={});var t=e,r=t.placement,n=t.boundary,o=t.rootBoundary,l=t.padding,d=t.flipVariations,u=t.allowedAutoPlacements,h=u===void 0?ei:u,f=Ce(r),x=f?d?Vi:Vi.filter(function(V){return Ce(V)===f}):Be,C=x.filter(function(V){return h.indexOf(V)>=0});C.length===0&&(C=x);var w=C.reduce(function(V,T){return V[T]=pe(i,{placement:T,boundary:n,rootBoundary:o,padding:l})[te(T)],V},{});return Object.keys(w).sort(function(V,T){return w[V]-w[T]})}function Gs(i){if(te(i)===Jt)return[];var e=$t(i);return[Wi(i),e,Wi(e)]}function zs(i){var e=i.state,t=i.options,r=i.name;if(!e.modifiersData[r]._skip){for(var n=t.mainAxis,o=n===void 0?!0:n,l=t.altAxis,d=l===void 0?!0:l,u=t.fallbackPlacements,h=t.padding,f=t.boundary,x=t.rootBoundary,C=t.altBoundary,w=t.flipVariations,V=w===void 0?!0:w,T=t.allowedAutoPlacements,k=e.options.placement,F=te(k),K=F===k,Y=u||(K||!V?[$t(k)]:Gs(k)),O=[k].concat(Y).reduce(function(Ot,qe){return Ot.concat(te(qe)===Jt?Dr(e,{placement:qe,boundary:f,rootBoundary:x,padding:h,flipVariations:V,allowedAutoPlacements:T}):qe)},[]),M=e.rects.reference,P=e.rects.popper,H=new Map,ie=!0,Z=O[0],Q=0;Q<O.length;Q++){var ne=O[Q],ke=te(ne),ce=Ce(ne)===Re,lt=[W,z].indexOf(ke)>=0,ct=lt?"width":"height",_e=pe(e,{placement:ne,boundary:f,rootBoundary:x,altBoundary:C,padding:h}),Ne=lt?ce?G:j:ce?z:W;M[ct]>P[ct]&&(Ne=$t(Ne));var hi=$t(Ne),dt=[];if(o&&dt.push(_e[ke]<=0),d&&dt.push(_e[Ne]<=0,_e[hi]<=0),dt.every(function(Ot){return Ot})){Z=ne,ie=!1;break}H.set(ne,dt)}if(ie)for(var gi=V?3:1,yr=function(qe){var zt=O.find(function(bi){var mt=H.get(bi);if(mt)return mt.slice(0,qe).every(function(wr){return wr})});if(zt)return Z=zt,"break"},Gt=gi;Gt>0;Gt--){var _i=yr(Gt);if(_i==="break")break}e.placement!==Z&&(e.modifiersData[r]._skip=!0,e.placement=Z,e.reset=!0)}}var ji={name:"flip",enabled:!0,phase:"main",fn:zs,requiresIfExists:["offset"],data:{_skip:!1}};function ro(i,e,t){return t===void 0&&(t={x:0,y:0}),{top:i.top-e.height-t.y,right:i.right-e.width+t.x,bottom:i.bottom-e.height+t.y,left:i.left-e.width-t.x}}function no(i){return[W,G,z,j].some(function(e){return i[e]>=0})}function Qs(i){var e=i.state,t=i.name,r=e.rects.reference,n=e.rects.popper,o=e.modifiersData.preventOverflow,l=pe(e,{elementContext:"reference"}),d=pe(e,{altBoundary:!0}),u=ro(l,r),h=ro(d,n,o),f=no(u),x=no(h);e.modifiersData[t]={referenceClippingOffsets:u,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:x},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":x})}var Ki={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Qs};function Xs(i,e,t){var r=te(i),n=[j,W].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:i})):t,l=o[0],d=o[1];return l=l||0,d=(d||0)*n,[j,G].indexOf(r)>=0?{x:d,y:l}:{x:l,y:d}}function Js(i){var e=i.state,t=i.options,r=i.name,n=t.offset,o=n===void 0?[0,0]:n,l=ei.reduce(function(f,x){return f[x]=Xs(x,e.rects,o),f},{}),d=l[e.placement],u=d.x,h=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=l}var Yi={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Js};function Zs(i){var e=i.state,t=i.name;e.modifiersData[t]=si({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Ft={name:"popperOffsets",enabled:!0,phase:"read",fn:Zs,data:{}};function Lr(i){return i==="x"?"y":"x"}function ea(i){var e=i.state,t=i.options,r=i.name,n=t.mainAxis,o=n===void 0?!0:n,l=t.altAxis,d=l===void 0?!1:l,u=t.boundary,h=t.rootBoundary,f=t.altBoundary,x=t.padding,C=t.tether,w=C===void 0?!0:C,V=t.tetherOffset,T=V===void 0?0:V,k=pe(e,{boundary:u,rootBoundary:h,padding:x,altBoundary:f}),F=te(e.placement),K=Ce(e.placement),Y=!K,O=_t(F),M=Lr(O),P=e.modifiersData.popperOffsets,H=e.rects.reference,ie=e.rects.popper,Z=typeof T=="function"?T(Object.assign({},e.rects,{placement:e.placement})):T,Q=typeof Z=="number"?{mainAxis:Z,altAxis:Z}:Object.assign({mainAxis:0,altAxis:0},Z),ne=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ke={x:0,y:0};if(P){if(o){var ce,lt=O==="y"?W:j,ct=O==="y"?z:G,_e=O==="y"?"height":"width",Ne=P[O],hi=Ne+k[lt],dt=Ne-k[ct],gi=w?-ie[_e]/2:0,yr=K===Re?H[_e]:ie[_e],Gt=K===Re?-ie[_e]:-H[_e],_i=e.elements.arrow,Ot=w&&_i?gt(_i):{width:0,height:0},qe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ri(),zt=qe[lt],bi=qe[ct],mt=bt(0,H[_e],Ot[_e]),wr=Y?H[_e]/2-gi-mt-zt-Q.mainAxis:yr-mt-zt-Q.mainAxis,ps=Y?-H[_e]/2+gi+mt+bi+Q.mainAxis:Gt+mt+bi+Q.mainAxis,Sr=e.elements.arrow&&Pe(e.elements.arrow),us=Sr?O==="y"?Sr.clientTop||0:Sr.clientLeft||0:0,fn=(ce=ne?.[O])!=null?ce:0,fs=Ne+wr-fn-us,hs=Ne+ps-fn,hn=bt(w?ht(hi,fs):hi,Ne,w?Me(dt,hs):dt);P[O]=hn,ke[O]=hn-Ne}if(d){var gn,gs=O==="x"?W:j,_s=O==="x"?z:G,pt=P[M],vi=M==="y"?"height":"width",_n=pt+k[gs],bn=pt-k[_s],xr=[W,j].indexOf(F)!==-1,vn=(gn=ne?.[M])!=null?gn:0,En=xr?_n:pt-H[vi]-ie[vi]-vn+Q.altAxis,yn=xr?pt+H[vi]+ie[vi]-vn-Q.altAxis:bn,wn=w&&xr?eo(En,pt,yn):bt(w?En:_n,pt,w?yn:bn);P[M]=wn,ke[M]=wn-pt}e.modifiersData[r]=ke}}var qi={name:"preventOverflow",enabled:!0,phase:"main",fn:ea,requiresIfExists:["offset"]};function Rr(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function $r(i){return i===B(i)||!J(i)?vt(i):Rr(i)}function ta(i){var e=i.getBoundingClientRect(),t=We(e.width)/i.offsetWidth||1,r=We(e.height)/i.offsetHeight||1;return t!==1||r!==1}function Vr(i,e,t){t===void 0&&(t=!1);var r=J(e),n=J(e)&&ta(e),o=re(e),l=xe(i,n,t),d={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!t)&&((ee(e)!=="body"||yt(o))&&(d=$r(e)),J(e)?(u=xe(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=Et(o))),{x:l.left+d.scrollLeft-u.x,y:l.top+d.scrollTop-u.y,width:l.width,height:l.height}}function ia(i){var e=new Map,t=new Set,r=[];i.forEach(function(o){e.set(o.name,o)});function n(o){t.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(d){if(!t.has(d)){var u=e.get(d);u&&n(u)}}),r.push(o)}return i.forEach(function(o){t.has(o.name)||n(o)}),r}function Fr(i){var e=ia(i);return kr.reduce(function(t,r){return t.concat(e.filter(function(n){return n.phase===r}))},[])}function Br(i){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(i())})})),e}}function Wr(i){var e=i.reduce(function(t,r){var n=t[r.name];return t[r.name]=n?Object.assign({},n,r,{options:Object.assign({},n.options,r.options),data:Object.assign({},n.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var oo={placement:"bottom",modifiers:[],strategy:"absolute"};function so(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function wt(i){i===void 0&&(i={});var e=i,t=e.defaultModifiers,r=t===void 0?[]:t,n=e.defaultOptions,o=n===void 0?oo:n;return function(d,u,h){h===void 0&&(h=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},oo,o),modifiersData:{},elements:{reference:d,popper:u},attributes:{},styles:{}},x=[],C=!1,w={state:f,setOptions:function(F){var K=typeof F=="function"?F(f.options):F;T(),f.options=Object.assign({},o,f.options,K),f.scrollParents={reference:Se(d)?Ze(d):d.contextElement?Ze(d.contextElement):[],popper:Ze(u)};var Y=Fr(Wr([].concat(r,f.options.modifiers)));return f.orderedModifiers=Y.filter(function(O){return O.enabled}),V(),w.update()},forceUpdate:function(){if(!C){var F=f.elements,K=F.reference,Y=F.popper;if(so(K,Y)){f.rects={reference:Vr(K,Pe(Y),f.options.strategy==="fixed"),popper:gt(Y)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(Q){return f.modifiersData[Q.name]=Object.assign({},Q.data)});for(var O=0;O<f.orderedModifiers.length;O++){if(f.reset===!0){f.reset=!1,O=-1;continue}var M=f.orderedModifiers[O],P=M.fn,H=M.options,ie=H===void 0?{}:H,Z=M.name;typeof P=="function"&&(f=P({state:f,options:ie,name:Z,instance:w})||f)}}}},update:Br(function(){return new Promise(function(k){w.forceUpdate(),k(f)})}),destroy:function(){T(),C=!0}};if(!so(d,u))return w;w.setOptions(h).then(function(k){!C&&h.onFirstUpdate&&h.onFirstUpdate(k)});function V(){f.orderedModifiers.forEach(function(k){var F=k.name,K=k.options,Y=K===void 0?{}:K,O=k.effect;if(typeof O=="function"){var M=O({state:f,name:F,instance:w,options:Y}),P=function(){};x.push(M||P)}})}function T(){x.forEach(function(k){return k()}),x=[]}return w}}var ao=wt();var ra=[Rt,Ft,Lt,It],lo=wt({defaultModifiers:ra});var na=[Rt,Ft,Lt,It,Yi,ji,qi,Fi,Ki],ai=wt({defaultModifiers:na});var et=new Map,Hr={set(i,e,t){et.has(i)||et.set(i,new Map);let r=et.get(i);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(i,e){return et.has(i)&&et.get(i).get(e)||null},remove(i,e){if(!et.has(i))return;let t=et.get(i);t.delete(e),t.size===0&&et.delete(i)}},oa=1e6,sa=1e3,on="transitionend",Vo=i=>(i&&window.CSS&&window.CSS.escape&&(i=i.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),i),aa=i=>i==null?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase(),la=i=>{do i+=Math.floor(Math.random()*oa);while(document.getElementById(i));return i},ca=i=>{if(!i)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(i),r=Number.parseFloat(e),n=Number.parseFloat(t);return!r&&!n?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*sa)},Fo=i=>{i.dispatchEvent(new Event(on))},je=i=>!i||typeof i!="object"?!1:(typeof i.jquery<"u"&&(i=i[0]),typeof i.nodeType<"u"),tt=i=>je(i)?i.jquery?i[0]:i:typeof i=="string"&&i.length>0?document.querySelector(Vo(i)):null,qt=i=>{if(!je(i)||i.getClientRects().length===0)return!1;let e=getComputedStyle(i).getPropertyValue("visibility")==="visible",t=i.closest("details:not([open])");if(!t)return e;if(t!==i){let r=i.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},it=i=>!i||i.nodeType!==Node.ELEMENT_NODE||i.classList.contains("disabled")?!0:typeof i.disabled<"u"?i.disabled:i.hasAttribute("disabled")&&i.getAttribute("disabled")!=="false",Bo=i=>{if(!document.documentElement.attachShadow)return null;if(typeof i.getRootNode=="function"){let e=i.getRootNode();return e instanceof ShadowRoot?e:null}return i instanceof ShadowRoot?i:i.parentNode?Bo(i.parentNode):null},ir=()=>{},ui=i=>{i.offsetHeight},Wo=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,jr=[],da=i=>{document.readyState==="loading"?(jr.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of jr)e()}),jr.push(i)):i()},Te=()=>document.documentElement.dir==="rtl",Oe=i=>{da(()=>{let e=Wo();if(e){let t=i.NAME,r=e.fn[t];e.fn[t]=i.jQueryInterface,e.fn[t].Constructor=i,e.fn[t].noConflict=()=>(e.fn[t]=r,i.jQueryInterface)}})},ge=(i,e=[],t=i)=>typeof i=="function"?i.call(...e):t,Ho=(i,e,t=!0)=>{if(!t){ge(i);return}let n=ca(e)+5,o=!1,l=({target:d})=>{d===e&&(o=!0,e.removeEventListener(on,l),ge(i))};e.addEventListener(on,l),setTimeout(()=>{o||Fo(e)},n)},dn=(i,e,t,r)=>{let n=i.length,o=i.indexOf(e);return o===-1?!t&&r?i[n-1]:i[0]:(o+=t?1:-1,r&&(o=(o+n)%n),i[Math.max(0,Math.min(o,n-1))])},ma=/[^.]*(?=\..*)\.|.*/,pa=/\..*/,ua=/::\d+$/,Kr={},co=1,jo={mouseenter:"mouseover",mouseleave:"mouseout"},fa=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ko(i,e){return e&&`${e}::${co++}`||i.uidEvent||co++}function Yo(i){let e=Ko(i);return i.uidEvent=e,Kr[e]=Kr[e]||{},Kr[e]}function ha(i,e){return function t(r){return mn(r,{delegateTarget:i}),t.oneOff&&p.off(i,r.type,e),e.apply(i,[r])}}function ga(i,e,t){return function r(n){let o=i.querySelectorAll(e);for(let{target:l}=n;l&&l!==this;l=l.parentNode)for(let d of o)if(d===l)return mn(n,{delegateTarget:l}),r.oneOff&&p.off(i,n.type,e,t),t.apply(l,[n])}}function qo(i,e,t=null){return Object.values(i).find(r=>r.callable===e&&r.delegationSelector===t)}function Uo(i,e,t){let r=typeof e=="string",n=r?t:e||t,o=Go(i);return fa.has(o)||(o=i),[r,n,o]}function mo(i,e,t,r,n){if(typeof e!="string"||!i)return;let[o,l,d]=Uo(e,t,r);e in jo&&(l=(V=>function(T){if(!T.relatedTarget||T.relatedTarget!==T.delegateTarget&&!T.delegateTarget.contains(T.relatedTarget))return V.call(this,T)})(l));let u=Yo(i),h=u[d]||(u[d]={}),f=qo(h,l,o?t:null);if(f){f.oneOff=f.oneOff&&n;return}let x=Ko(l,e.replace(ma,"")),C=o?ga(i,t,l):ha(i,l);C.delegationSelector=o?t:null,C.callable=l,C.oneOff=n,C.uidEvent=x,h[x]=C,i.addEventListener(d,C,o)}function sn(i,e,t,r,n){let o=qo(e[t],r,n);o&&(i.removeEventListener(t,o,!!n),delete e[t][o.uidEvent])}function _a(i,e,t,r){let n=e[t]||{};for(let[o,l]of Object.entries(n))o.includes(r)&&sn(i,e,t,l.callable,l.delegationSelector)}function Go(i){return i=i.replace(pa,""),jo[i]||i}var p={on(i,e,t,r){mo(i,e,t,r,!1)},one(i,e,t,r){mo(i,e,t,r,!0)},off(i,e,t,r){if(typeof e!="string"||!i)return;let[n,o,l]=Uo(e,t,r),d=l!==e,u=Yo(i),h=u[l]||{},f=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(h).length)return;sn(i,u,l,o,n?t:null);return}if(f)for(let x of Object.keys(u))_a(i,u,x,e.slice(1));for(let[x,C]of Object.entries(h)){let w=x.replace(ua,"");(!d||e.includes(w))&&sn(i,u,l,C.callable,C.delegationSelector)}},trigger(i,e,t){if(typeof e!="string"||!i)return null;let r=Wo(),n=Go(e),o=e!==n,l=null,d=!0,u=!0,h=!1;o&&r&&(l=r.Event(e,t),r(i).trigger(l),d=!l.isPropagationStopped(),u=!l.isImmediatePropagationStopped(),h=l.isDefaultPrevented());let f=mn(new Event(e,{bubbles:d,cancelable:!0}),t);return h&&f.preventDefault(),u&&i.dispatchEvent(f),f.defaultPrevented&&l&&l.preventDefault(),f}};function mn(i,e={}){for(let[t,r]of Object.entries(e))try{i[t]=r}catch{Object.defineProperty(i,t,{configurable:!0,get(){return r}})}return i}function po(i){if(i==="true")return!0;if(i==="false")return!1;if(i===Number(i).toString())return Number(i);if(i===""||i==="null")return null;if(typeof i!="string")return i;try{return JSON.parse(decodeURIComponent(i))}catch{return i}}function Yr(i){return i.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}var Ke={setDataAttribute(i,e,t){i.setAttribute(`data-bs-${Yr(e)}`,t)},removeDataAttribute(i,e){i.removeAttribute(`data-bs-${Yr(e)}`)},getDataAttributes(i){if(!i)return{};let e={},t=Object.keys(i.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(let r of t){let n=r.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1),e[n]=po(i.dataset[r])}return e},getDataAttribute(i,e){return po(i.getAttribute(`data-bs-${Yr(e)}`))}},Ct=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){let r=je(t)?Ke.getDataAttribute(t,"config"):{};return oe(oe(oe(oe({},this.constructor.Default),typeof r=="object"?r:{}),je(t)?Ke.getDataAttributes(t):{}),typeof e=="object"?e:{})}_typeCheckConfig(e,t=this.constructor.DefaultType){for(let[r,n]of Object.entries(t)){let o=e[r],l=je(o)?"element":aa(o);if(!new RegExp(n).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${n}".`)}}},ba="5.3.8",ve=class extends Ct{constructor(e,t){super(),e=tt(e),e&&(this._element=e,this._config=this._getConfig(t),Hr.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Hr.remove(this._element,this.constructor.DATA_KEY),p.off(this._element,this.constructor.EVENT_KEY);for(let e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){Ho(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Hr.get(tt(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return ba}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}},qr=i=>{let e=i.getAttribute("data-bs-target");if(!e||e==="#"){let t=i.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>Vo(t)).join(","):null},_={find(i,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,i))},findOne(i,e=document.documentElement){return Element.prototype.querySelector.call(e,i)},children(i,e){return[].concat(...i.children).filter(t=>t.matches(e))},parents(i,e){let t=[],r=i.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(i,e){let t=i.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(i,e){let t=i.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(i){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,i).filter(t=>!it(t)&&qt(t))},getSelectorFromElement(i){let e=qr(i);return e&&_.findOne(e)?e:null},getElementFromSelector(i){let e=qr(i);return e?_.findOne(e):null},getMultipleElementsFromSelector(i){let e=qr(i);return e?_.find(e):[]}},mr=(i,e="hide")=>{let t=`click.dismiss${i.EVENT_KEY}`,r=i.NAME;p.on(document,t,`[data-bs-dismiss="${r}"]`,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),it(this))return;let o=_.getElementFromSelector(this)||this.closest(`.${r}`);i.getOrCreateInstance(o)[e]()})},va="alert",Ea="bs.alert",zo=`.${Ea}`,ya=`close${zo}`,wa=`closed${zo}`,Sa="fade",xa="show",rr=class i extends ve{static get NAME(){return va}close(){if(p.trigger(this._element,ya).defaultPrevented)return;this._element.classList.remove(xa);let t=this._element.classList.contains(Sa);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),p.trigger(this._element,wa),this.dispose()}static jQueryInterface(e){return this.each(function(){let t=i.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};mr(rr,"close");Oe(rr);var Ca="button",Ta="bs.button",Aa=`.${Ta}`,Oa=".data-api",ka="active",uo='[data-bs-toggle="button"]',Na=`click${Aa}${Oa}`,nr=class i extends ve{static get NAME(){return Ca}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(ka))}static jQueryInterface(e){return this.each(function(){let t=i.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};p.on(document,Na,uo,i=>{i.preventDefault();let e=i.target.closest(uo);nr.getOrCreateInstance(e).toggle()});Oe(nr);var Ma="swipe",Ut=".bs.swipe",Pa=`touchstart${Ut}`,Ia=`touchmove${Ut}`,Da=`touchend${Ut}`,La=`pointerdown${Ut}`,Ra=`pointerup${Ut}`,$a="touch",Va="pen",Fa="pointer-event",Ba=40,Wa={endCallback:null,leftCallback:null,rightCallback:null},Ha={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},or=class i extends Ct{constructor(e,t){super(),this._element=e,!(!e||!i.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Wa}static get DefaultType(){return Ha}static get NAME(){return Ma}dispose(){p.off(this._element,Ut)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),ge(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=Ba)return;let t=e/this._deltaX;this._deltaX=0,t&&ge(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(p.on(this._element,La,e=>this._start(e)),p.on(this._element,Ra,e=>this._end(e)),this._element.classList.add(Fa)):(p.on(this._element,Pa,e=>this._start(e)),p.on(this._element,Ia,e=>this._move(e)),p.on(this._element,Da,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Va||e.pointerType===$a)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},ja="carousel",Ka="bs.carousel",st=`.${Ka}`,Qo=".data-api",Ya="ArrowLeft",qa="ArrowRight",Ua=500,li="next",Bt="prev",Ht="left",er="right",Ga=`slide${st}`,Ur=`slid${st}`,za=`keydown${st}`,Qa=`mouseenter${st}`,Xa=`mouseleave${st}`,Ja=`dragstart${st}`,Za=`load${st}${Qo}`,el=`click${st}${Qo}`,Xo="carousel",Gi="active",tl="slide",il="carousel-item-end",rl="carousel-item-start",nl="carousel-item-next",ol="carousel-item-prev",Jo=".active",Zo=".carousel-item",sl=Jo+Zo,al=".carousel-item img",ll=".carousel-indicators",cl="[data-bs-slide], [data-bs-slide-to]",dl='[data-bs-ride="carousel"]',ml={[Ya]:er,[qa]:Ht},pl={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ul={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},di=class i extends ve{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=_.findOne(ll,this._element),this._addEventListeners(),this._config.ride===Xo&&this.cycle()}static get Default(){return pl}static get DefaultType(){return ul}static get NAME(){return ja}next(){this._slide(li)}nextWhenVisible(){!document.hidden&&qt(this._element)&&this.next()}prev(){this._slide(Bt)}pause(){this._isSliding&&Fo(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){p.one(this._element,Ur,()=>this.cycle());return}this.cycle()}}to(e){let t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){p.one(this._element,Ur,()=>this.to(e));return}let r=this._getItemIndex(this._getActive());if(r===e)return;let n=e>r?li:Bt;this._slide(n,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&p.on(this._element,za,e=>this._keydown(e)),this._config.pause==="hover"&&(p.on(this._element,Qa,()=>this.pause()),p.on(this._element,Xa,()=>this._maybeEnableCycle())),this._config.touch&&or.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let r of _.find(al,this._element))p.on(r,Ja,n=>n.preventDefault());let t={leftCallback:()=>this._slide(this._directionToOrder(Ht)),rightCallback:()=>this._slide(this._directionToOrder(er)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Ua+this._config.interval))}};this._swipeHelper=new or(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=ml[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let t=_.findOne(Jo,this._indicatorsElement);t.classList.remove(Gi),t.removeAttribute("aria-current");let r=_.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(Gi),r.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;let r=this._getActive(),n=e===li,o=t||dn(this._getItems(),r,n,this._config.wrap);if(o===r)return;let l=this._getItemIndex(o),d=w=>p.trigger(this._element,w,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:l});if(d(Ga).defaultPrevented||!r||!o)return;let h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=o;let f=n?rl:il,x=n?nl:ol;o.classList.add(x),ui(o),r.classList.add(f),o.classList.add(f);let C=()=>{o.classList.remove(f,x),o.classList.add(Gi),r.classList.remove(Gi,x,f),this._isSliding=!1,d(Ur)};this._queueCallback(C,r,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(tl)}_getActive(){return _.findOne(sl,this._element)}_getItems(){return _.find(Zo,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Te()?e===Ht?Bt:li:e===Ht?li:Bt}_orderToDirection(e){return Te()?e===Bt?Ht:er:e===Bt?er:Ht}static jQueryInterface(e){return this.each(function(){let t=i.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};p.on(document,el,cl,function(i){let e=_.getElementFromSelector(this);if(!e||!e.classList.contains(Xo))return;i.preventDefault();let t=di.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(Ke.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});p.on(window,Za,()=>{let i=_.find(dl);for(let e of i)di.getOrCreateInstance(e)});Oe(di);var fl="collapse",hl="bs.collapse",fi=`.${hl}`,gl=".data-api",_l=`show${fi}`,bl=`shown${fi}`,vl=`hide${fi}`,El=`hidden${fi}`,yl=`click${fi}${gl}`,Gr="show",Kt="collapse",zi="collapsing",wl="collapsed",Sl=`:scope .${Kt} .${Kt}`,xl="collapse-horizontal",Cl="width",Tl="height",Al=".collapse.show, .collapse.collapsing",an='[data-bs-toggle="collapse"]',Ol={parent:null,toggle:!0},kl={parent:"(null|element)",toggle:"boolean"},sr=class i extends ve{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];let r=_.find(an);for(let n of r){let o=_.getSelectorFromElement(n),l=_.find(o).filter(d=>d===this._element);o!==null&&l.length&&this._triggerArray.push(n)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ol}static get DefaultType(){return kl}static get NAME(){return fl}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Al).filter(d=>d!==this._element).map(d=>i.getOrCreateInstance(d,{toggle:!1}))),e.length&&e[0]._isTransitioning||p.trigger(this._element,_l).defaultPrevented)return;for(let d of e)d.hide();let r=this._getDimension();this._element.classList.remove(Kt),this._element.classList.add(zi),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let n=()=>{this._isTransitioning=!1,this._element.classList.remove(zi),this._element.classList.add(Kt,Gr),this._element.style[r]="",p.trigger(this._element,bl)},l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(n,this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||p.trigger(this._element,vl).defaultPrevented)return;let t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,ui(this._element),this._element.classList.add(zi),this._element.classList.remove(Kt,Gr);for(let n of this._triggerArray){let o=_.getElementFromSelector(n);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([n],!1)}this._isTransitioning=!0;let r=()=>{this._isTransitioning=!1,this._element.classList.remove(zi),this._element.classList.add(Kt),p.trigger(this._element,El)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Gr)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=tt(e.parent),e}_getDimension(){return this._element.classList.contains(xl)?Cl:Tl}_initializeChildren(){if(!this._config.parent)return;let e=this._getFirstLevelChildren(an);for(let t of e){let r=_.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){let t=_.find(Sl,this._config.parent);return _.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(let r of e)r.classList.toggle(wl,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){let t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){let r=i.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};p.on(document,yl,an,function(i){(i.target.tagName==="A"||i.delegateTarget&&i.delegateTarget.tagName==="A")&&i.preventDefault();for(let e of _.getMultipleElementsFromSelector(this))sr.getOrCreateInstance(e,{toggle:!1}).toggle()});Oe(sr);var fo="dropdown",Nl="bs.dropdown",Tt=`.${Nl}`,pn=".data-api",Ml="Escape",ho="Tab",Pl="ArrowUp",go="ArrowDown",Il=2,Dl=`hide${Tt}`,Ll=`hidden${Tt}`,Rl=`show${Tt}`,$l=`shown${Tt}`,es=`click${Tt}${pn}`,ts=`keydown${Tt}${pn}`,Vl=`keyup${Tt}${pn}`,jt="show",Fl="dropup",Bl="dropend",Wl="dropstart",Hl="dropup-center",jl="dropdown-center",St='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Kl=`${St}.${jt}`,tr=".dropdown-menu",Yl=".navbar",ql=".navbar-nav",Ul=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Gl=Te()?"top-end":"top-start",zl=Te()?"top-start":"top-end",Ql=Te()?"bottom-end":"bottom-start",Xl=Te()?"bottom-start":"bottom-end",Jl=Te()?"left-start":"right-start",Zl=Te()?"right-start":"left-start",ec="top",tc="bottom",ic={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},rc={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},rt=class i extends ve{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=_.next(this._element,tr)[0]||_.prev(this._element,tr)[0]||_.findOne(tr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ic}static get DefaultType(){return rc}static get NAME(){return fo}toggle(){return this._isShown()?this.hide():this.show()}show(){if(it(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!p.trigger(this._element,Rl,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ql))for(let r of[].concat(...document.body.children))p.on(r,"mouseover",ir);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(jt),this._element.classList.add(jt),p.trigger(this._element,$l,e)}}hide(){if(it(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!p.trigger(this._element,Dl,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let r of[].concat(...document.body.children))p.off(r,"mouseover",ir);this._popper&&this._popper.destroy(),this._menu.classList.remove(jt),this._element.classList.remove(jt),this._element.setAttribute("aria-expanded","false"),Ke.removeDataAttribute(this._menu,"popper"),p.trigger(this._element,Ll,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!je(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${fo.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Ui>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:je(this._config.reference)?e=tt(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);let t=this._getPopperConfig();this._popper=ai(e,this._menu,t)}_isShown(){return this._menu.classList.contains(jt)}_getPlacement(){let e=this._parent;if(e.classList.contains(Bl))return Jl;if(e.classList.contains(Wl))return Zl;if(e.classList.contains(Hl))return ec;if(e.classList.contains(jl))return tc;let t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Fl)?t?zl:Gl:t?Xl:Ql}_detectNavbar(){return this._element.closest(Yl)!==null}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ke.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),oe(oe({},e),ge(this._config.popperConfig,[void 0,e]))}_selectMenuItem({key:e,target:t}){let r=_.find(Ul,this._menu).filter(n=>qt(n));r.length&&dn(r,t,e===go,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){let t=i.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===Il||e.type==="keyup"&&e.key!==ho)return;let t=_.find(Kl);for(let r of t){let n=i.getInstance(r);if(!n||n._config.autoClose===!1)continue;let o=e.composedPath(),l=o.includes(n._menu);if(o.includes(n._element)||n._config.autoClose==="inside"&&!l||n._config.autoClose==="outside"&&l||n._menu.contains(e.target)&&(e.type==="keyup"&&e.key===ho||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let d={relatedTarget:n._element};e.type==="click"&&(d.clickEvent=e),n._completeHide(d)}}static dataApiKeydownHandler(e){let t=/input|textarea/i.test(e.target.tagName),r=e.key===Ml,n=[Pl,go].includes(e.key);if(!n&&!r||t&&!r)return;e.preventDefault();let o=this.matches(St)?this:_.prev(this,St)[0]||_.next(this,St)[0]||_.findOne(St,e.delegateTarget.parentNode),l=i.getOrCreateInstance(o);if(n){e.stopPropagation(),l.show(),l._selectMenuItem(e);return}l._isShown()&&(e.stopPropagation(),l.hide(),o.focus())}};p.on(document,ts,St,rt.dataApiKeydownHandler);p.on(document,ts,tr,rt.dataApiKeydownHandler);p.on(document,es,rt.clearMenus);p.on(document,Vl,rt.clearMenus);p.on(document,es,St,function(i){i.preventDefault(),rt.getOrCreateInstance(this).toggle()});Oe(rt);var is="backdrop",nc="fade",_o="show",bo=`mousedown.bs.${is}`,oc={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},sc={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},ar=class extends Ct{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return oc}static get DefaultType(){return sc}static get NAME(){return is}show(e){if(!this._config.isVisible){ge(e);return}this._append();let t=this._getElement();this._config.isAnimated&&ui(t),t.classList.add(_o),this._emulateAnimation(()=>{ge(e)})}hide(e){if(!this._config.isVisible){ge(e);return}this._getElement().classList.remove(_o),this._emulateAnimation(()=>{this.dispose(),ge(e)})}dispose(){this._isAppended&&(p.off(this._element,bo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(nc),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=tt(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),p.on(e,bo,()=>{ge(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Ho(e,this._getElement(),this._config.isAnimated)}},ac="focustrap",lc="bs.focustrap",lr=`.${lc}`,cc=`focusin${lr}`,dc=`keydown.tab${lr}`,mc="Tab",pc="forward",vo="backward",uc={autofocus:!0,trapElement:null},fc={autofocus:"boolean",trapElement:"element"},cr=class extends Ct{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return uc}static get DefaultType(){return fc}static get NAME(){return ac}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),p.off(document,lr),p.on(document,cc,e=>this._handleFocusin(e)),p.on(document,dc,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,p.off(document,lr))}_handleFocusin(e){let{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;let r=_.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===vo?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===mc&&(this._lastTabNavDirection=e.shiftKey?vo:pc)}},Eo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",yo=".sticky-top",Qi="padding-right",wo="margin-right",mi=class{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Qi,t=>t+e),this._setElementAttributes(Eo,Qi,t=>t+e),this._setElementAttributes(yo,wo,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Qi),this._resetElementAttributes(Eo,Qi),this._resetElementAttributes(yo,wo)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){let n=this.getWidth(),o=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+n)return;this._saveInitialAttribute(l,t);let d=window.getComputedStyle(l).getPropertyValue(t);l.style.setProperty(t,`${r(Number.parseFloat(d))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,t){let r=e.style.getPropertyValue(t);r&&Ke.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){let r=n=>{let o=Ke.getDataAttribute(n,t);if(o===null){n.style.removeProperty(t);return}Ke.removeDataAttribute(n,t),n.style.setProperty(t,o)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(je(e)){t(e);return}for(let r of _.find(e,this._element))t(r)}},hc="modal",gc="bs.modal",Ae=`.${gc}`,_c=".data-api",bc="Escape",vc=`hide${Ae}`,Ec=`hidePrevented${Ae}`,rs=`hidden${Ae}`,ns=`show${Ae}`,yc=`shown${Ae}`,wc=`resize${Ae}`,Sc=`click.dismiss${Ae}`,xc=`mousedown.dismiss${Ae}`,Cc=`keydown.dismiss${Ae}`,Tc=`click${Ae}${_c}`,So="modal-open",Ac="fade",xo="show",zr="modal-static",Oc=".modal.show",kc=".modal-dialog",Nc=".modal-body",Mc='[data-bs-toggle="modal"]',Pc={backdrop:!0,focus:!0,keyboard:!0},Ic={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},$e=class i extends ve{constructor(e,t){super(e,t),this._dialog=_.findOne(kc,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new mi,this._addEventListeners()}static get Default(){return Pc}static get DefaultType(){return Ic}static get NAME(){return hc}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||p.trigger(this._element,ns,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(So),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||p.trigger(this._element,vc).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(xo),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){p.off(window,Ae),p.off(this._dialog,Ae),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ar({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new cr({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let t=_.findOne(Nc,this._dialog);t&&(t.scrollTop=0),ui(this._element),this._element.classList.add(xo);let r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,p.trigger(this._element,yc,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){p.on(this._element,Cc,e=>{if(e.key===bc){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),p.on(window,wc,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),p.on(this._element,xc,e=>{p.one(this._element,Sc,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(So),this._resetAdjustments(),this._scrollBar.reset(),p.trigger(this._element,rs)})}_isAnimated(){return this._element.classList.contains(Ac)}_triggerBackdropTransition(){if(p.trigger(this._element,Ec).defaultPrevented)return;let t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(zr)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(zr),this._queueCallback(()=>{this._element.classList.remove(zr),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){let n=Te()?"paddingLeft":"paddingRight";this._element.style[n]=`${t}px`}if(!r&&e){let n=Te()?"paddingRight":"paddingLeft";this._element.style[n]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){let r=i.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}};p.on(document,Tc,Mc,function(i){let e=_.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&i.preventDefault(),p.one(e,ns,n=>{n.defaultPrevented||p.one(e,rs,()=>{qt(this)&&this.focus()})});let t=_.findOne(Oc);t&&$e.getInstance(t).hide(),$e.getOrCreateInstance(e).toggle(this)});mr($e);Oe($e);var Dc="offcanvas",Lc="bs.offcanvas",Ye=`.${Lc}`,os=".data-api",Rc=`load${Ye}${os}`,$c="Escape",Co="show",To="showing",Ao="hiding",Vc="offcanvas-backdrop",ss=".offcanvas.show",Fc=`show${Ye}`,Bc=`shown${Ye}`,Wc=`hide${Ye}`,Oo=`hidePrevented${Ye}`,as=`hidden${Ye}`,Hc=`resize${Ye}`,jc=`click${Ye}${os}`,Kc=`keydown.dismiss${Ye}`,Yc='[data-bs-toggle="offcanvas"]',qc={backdrop:!0,keyboard:!0,scroll:!1},Uc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},nt=class i extends ve{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return qc}static get DefaultType(){return Uc}static get NAME(){return Dc}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||p.trigger(this._element,Fc,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new mi().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(To);let r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Co),this._element.classList.remove(To),p.trigger(this._element,Bc,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||p.trigger(this._element,Wc).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ao),this._backdrop.hide();let t=()=>{this._element.classList.remove(Co,Ao),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new mi().reset(),p.trigger(this._element,as)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=()=>{if(this._config.backdrop==="static"){p.trigger(this._element,Oo);return}this.hide()},t=!!this._config.backdrop;return new ar({className:Vc,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new cr({trapElement:this._element})}_addEventListeners(){p.on(this._element,Kc,e=>{if(e.key===$c){if(this._config.keyboard){this.hide();return}p.trigger(this._element,Oo)}})}static jQueryInterface(e){return this.each(function(){let t=i.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};p.on(document,jc,Yc,function(i){let e=_.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),it(this))return;p.one(e,as,()=>{qt(this)&&this.focus()});let t=_.findOne(ss);t&&t!==e&&nt.getInstance(t).hide(),nt.getOrCreateInstance(e).toggle(this)});p.on(window,Rc,()=>{for(let i of _.find(ss))nt.getOrCreateInstance(i).show()});p.on(window,Hc,()=>{for(let i of _.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(i).position!=="fixed"&&nt.getOrCreateInstance(i).hide()});mr(nt);Oe(nt);var Gc=/^aria-[\w-]*$/i,ls={"*":["class","dir","id","lang","role",Gc],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},zc=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Qc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Xc=(i,e)=>{let t=i.nodeName.toLowerCase();return e.includes(t)?zc.has(t)?!!Qc.test(i.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function Jc(i,e,t){if(!i.length)return i;if(t&&typeof t=="function")return t(i);let n=new window.DOMParser().parseFromString(i,"text/html"),o=[].concat(...n.body.querySelectorAll("*"));for(let l of o){let d=l.nodeName.toLowerCase();if(!Object.keys(e).includes(d)){l.remove();continue}let u=[].concat(...l.attributes),h=[].concat(e["*"]||[],e[d]||[]);for(let f of u)Xc(f,h)||l.removeAttribute(f.nodeName)}return n.body.innerHTML}var Zc="TemplateFactory",ed={allowList:ls,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},td={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},id={entry:"(string|element|function|null)",selector:"(string|element)"},ln=class extends Ct{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return ed}static get DefaultType(){return td}static get NAME(){return Zc}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content=oe(oe({},this._config.content),e),this}toHtml(){let e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(let[n,o]of Object.entries(this._config.content))this._setContent(e,o,n);let t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},id)}_setContent(e,t,r){let n=_.findOne(r,e);if(n){if(t=this._resolvePossibleFunction(t),!t){n.remove();return}if(je(t)){this._putElementInTemplate(tt(t),n);return}if(this._config.html){n.innerHTML=this._maybeSanitize(t);return}n.textContent=t}}_maybeSanitize(e){return this._config.sanitize?Jc(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return ge(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}},rd="tooltip",nd=new Set(["sanitize","allowList","sanitizeFn"]),Qr="fade",od="modal",Xi="show",sd=".tooltip-inner",ko=`.${od}`,No="hide.bs.modal",ci="hover",Xr="focus",Jr="click",ad="manual",ld="hide",cd="hidden",dd="show",md="shown",pd="inserted",ud="click",fd="focusin",hd="focusout",gd="mouseenter",_d="mouseleave",bd={AUTO:"auto",TOP:"top",RIGHT:Te()?"left":"right",BOTTOM:"bottom",LEFT:Te()?"right":"left"},vd={allowList:ls,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ed={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},Yt=class i extends ve{constructor(e,t){if(typeof Ui>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return vd}static get DefaultType(){return Ed}static get NAME(){return rd}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),p.off(this._element.closest(ko),No,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let e=p.trigger(this._element,this.constructor.eventName(dd)),r=(Bo(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();let n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));let{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(n),p.trigger(this._element,this.constructor.eventName(pd))),this._popper=this._createPopper(n),n.classList.add(Xi),"ontouchstart"in document.documentElement)for(let d of[].concat(...document.body.children))p.on(d,"mouseover",ir);let l=()=>{p.trigger(this._element,this.constructor.eventName(md)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||p.trigger(this._element,this.constructor.eventName(ld)).defaultPrevented)return;if(this._getTipElement().classList.remove(Xi),"ontouchstart"in document.documentElement)for(let n of[].concat(...document.body.children))p.off(n,"mouseover",ir);this._activeTrigger[Jr]=!1,this._activeTrigger[Xr]=!1,this._activeTrigger[ci]=!1,this._isHovered=null;let r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),p.trigger(this._element,this.constructor.eventName(cd)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Qr,Xi),t.classList.add(`bs-${this.constructor.NAME}-auto`);let r=la(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(Qr),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new ln(Ei(oe({},this._config),{content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{[sd]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Qr)}_isShown(){return this.tip&&this.tip.classList.contains(Xi)}_createPopper(e){let t=ge(this._config.placement,[this,e,this._element]),r=bd[t.toUpperCase()];return ai(this._element,e,this._getPopperConfig(r))}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return ge(e,[this._element,this._element])}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return oe(oe({},t),ge(this._config.popperConfig,[void 0,t]))}_setListeners(){let e=this._config.trigger.split(" ");for(let t of e)if(t==="click")p.on(this._element,this.constructor.eventName(ud),this._config.selector,r=>{let n=this._initializeOnDelegatedTarget(r);n._activeTrigger[Jr]=!(n._isShown()&&n._activeTrigger[Jr]),n.toggle()});else if(t!==ad){let r=t===ci?this.constructor.eventName(gd):this.constructor.eventName(fd),n=t===ci?this.constructor.eventName(_d):this.constructor.eventName(hd);p.on(this._element,r,this._config.selector,o=>{let l=this._initializeOnDelegatedTarget(o);l._activeTrigger[o.type==="focusin"?Xr:ci]=!0,l._enter()}),p.on(this._element,n,this._config.selector,o=>{let l=this._initializeOnDelegatedTarget(o);l._activeTrigger[o.type==="focusout"?Xr:ci]=l._element.contains(o.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},p.on(this._element.closest(ko),No,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let t=Ke.getDataAttributes(this._element);for(let r of Object.keys(t))nd.has(r)&&delete t[r];return e=oe(oe({},t),typeof e=="object"&&e?e:{}),e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:tt(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let t=i.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Oe(Yt);var yd="popover",wd=".popover-header",Sd=".popover-body",xd=Ei(oe({},Yt.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),Cd=Ei(oe({},Yt.DefaultType),{content:"(null|string|element|function)"}),cn=class i extends Yt{static get Default(){return xd}static get DefaultType(){return Cd}static get NAME(){return yd}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[wd]:this._getTitle(),[Sd]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let t=i.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Oe(cn);var Td="scrollspy",Ad="bs.scrollspy",un=`.${Ad}`,Od=".data-api",kd=`activate${un}`,Mo=`click${un}`,Nd=`load${un}${Od}`,Md="dropdown-item",Wt="active",Pd='[data-bs-spy="scroll"]',Zr="[href]",Id=".nav, .list-group",Po=".nav-link",Dd=".nav-item",Ld=".list-group-item",Rd=`${Po}, ${Dd} > ${Po}, ${Ld}`,$d=".dropdown",Vd=".dropdown-toggle",Fd={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Bd={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},dr=class i extends ve{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Fd}static get DefaultType(){return Bd}static get NAME(){return Td}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=tt(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(p.off(this._config.target,Mo),p.on(this._config.target,Mo,Zr,e=>{let t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();let r=this._rootElement||window,n=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:n,behavior:"smooth"});return}r.scrollTop=n}}))}_getNewObserver(){let e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){let t=l=>this._targetLinks.get(`#${l.target.id}`),r=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(t(l))},n=(this._rootElement||document.documentElement).scrollTop,o=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(let l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(l));continue}let d=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&d){if(r(l),!n)return;continue}!o&&!d&&r(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let e=_.find(Zr,this._config.target);for(let t of e){if(!t.hash||it(t))continue;let r=_.findOne(decodeURI(t.hash),this._element);qt(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Wt),this._activateParents(e),p.trigger(this._element,kd,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Md)){_.findOne(Vd,e.closest($d)).classList.add(Wt);return}for(let t of _.parents(e,Id))for(let r of _.prev(t,Rd))r.classList.add(Wt)}_clearActiveClass(e){e.classList.remove(Wt);let t=_.find(`${Zr}.${Wt}`,e);for(let r of t)r.classList.remove(Wt)}static jQueryInterface(e){return this.each(function(){let t=i.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};p.on(window,Nd,()=>{for(let i of _.find(Pd))dr.getOrCreateInstance(i)});Oe(dr);var Wd="tab",Hd="bs.tab",At=`.${Hd}`,jd=`hide${At}`,Kd=`hidden${At}`,Yd=`show${At}`,qd=`shown${At}`,Ud=`click${At}`,Gd=`keydown${At}`,zd=`load${At}`,Qd="ArrowLeft",Io="ArrowRight",Xd="ArrowUp",Do="ArrowDown",en="Home",Lo="End",xt="active",Ro="fade",tn="show",Jd="dropdown",cs=".dropdown-toggle",Zd=".dropdown-menu",rn=`:not(${cs})`,em='.list-group, .nav, [role="tablist"]',tm=".nav-item, .list-group-item",im=`.nav-link${rn}, .list-group-item${rn}, [role="tab"]${rn}`,ds='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',nn=`${im}, ${ds}`,rm=`.${xt}[data-bs-toggle="tab"], .${xt}[data-bs-toggle="pill"], .${xt}[data-bs-toggle="list"]`,pi=class i extends ve{constructor(e){super(e),this._parent=this._element.closest(em),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),p.on(this._element,Gd,t=>this._keydown(t)))}static get NAME(){return Wd}show(){let e=this._element;if(this._elemIsActive(e))return;let t=this._getActiveElem(),r=t?p.trigger(t,jd,{relatedTarget:e}):null;p.trigger(e,Yd,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(xt),this._activate(_.getElementFromSelector(e));let r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(tn);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),p.trigger(e,qd,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(Ro))}_deactivate(e,t){if(!e)return;e.classList.remove(xt),e.blur(),this._deactivate(_.getElementFromSelector(e));let r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(tn);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),p.trigger(e,Kd,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(Ro))}_keydown(e){if(![Qd,Io,Xd,Do,en,Lo].includes(e.key))return;e.stopPropagation(),e.preventDefault();let t=this._getChildren().filter(n=>!it(n)),r;if([en,Lo].includes(e.key))r=t[e.key===en?0:t.length-1];else{let n=[Io,Do].includes(e.key);r=dn(t,e.target,n,!0)}r&&(r.focus({preventScroll:!0}),i.getOrCreateInstance(r).show())}_getChildren(){return _.find(nn,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(let r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let t=_.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){let r=this._getOuterElement(e);if(!r.classList.contains(Jd))return;let n=(o,l)=>{let d=_.findOne(o,r);d&&d.classList.toggle(l,t)};n(cs,xt),n(Zd,tn),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(xt)}_getInnerElement(e){return e.matches(nn)?e:_.findOne(nn,e)}_getOuterElement(e){return e.closest(tm)||e}static jQueryInterface(e){return this.each(function(){let t=i.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};p.on(document,Ud,ds,function(i){["A","AREA"].includes(this.tagName)&&i.preventDefault(),!it(this)&&pi.getOrCreateInstance(this).show()});p.on(window,zd,()=>{for(let i of _.find(rm))pi.getOrCreateInstance(i)});Oe(pi);var nm="toast",om="bs.toast",at=`.${om}`,sm=`mouseover${at}`,am=`mouseout${at}`,lm=`focusin${at}`,cm=`focusout${at}`,dm=`hide${at}`,mm=`hidden${at}`,pm=`show${at}`,um=`shown${at}`,fm="fade",$o="hide",Ji="show",Zi="showing",hm={animation:"boolean",autohide:"boolean",delay:"number"},gm={animation:!0,autohide:!0,delay:5e3},ot=class i extends ve{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return gm}static get DefaultType(){return hm}static get NAME(){return nm}show(){if(p.trigger(this._element,pm).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(fm);let t=()=>{this._element.classList.remove(Zi),p.trigger(this._element,um),this._maybeScheduleHide()};this._element.classList.remove($o),ui(this._element),this._element.classList.add(Ji,Zi),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||p.trigger(this._element,dm).defaultPrevented)return;let t=()=>{this._element.classList.add($o),this._element.classList.remove(Zi,Ji),p.trigger(this._element,mm)};this._element.classList.add(Zi),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ji),super.dispose()}isShown(){return this._element.classList.contains(Ji)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}let r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){p.on(this._element,sm,e=>this._onInteraction(e,!0)),p.on(this._element,am,e=>this._onInteraction(e,!1)),p.on(this._element,lm,e=>this._onInteraction(e,!0)),p.on(this._element,cm,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=i.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};mr(ot);Oe(ot);function bm(i,e){if(i&1){let t=U();s(0,"div",54)(1,"div",55)(2,"h2",56),c(3,"Profile Information"),a(),s(4,"p",57),c(5,"Update your personal details"),a()(),s(6,"div",58)(7,"form",27),E("ngSubmit",function(){b(t);let n=S();return v(n.saveProfile())}),s(8,"div",59)(9,"div",60)(10,"label",61),c(11,"Name"),a(),s(12,"input",62),R("ngModelChange",function(n){b(t);let o=S();return L(o.profile.name,n)||(o.profile.name=n),v(n)}),a()()(),s(13,"div",28)(14,"label",61),c(15,"Email"),a(),s(16,"input",63),R("ngModelChange",function(n){b(t);let o=S();return L(o.profile.email,n)||(o.profile.email=n),v(n)}),a()(),s(17,"div",64)(18,"label",61),c(19,"Role"),a(),s(20,"input",65),R("ngModelChange",function(n){b(t);let o=S();return L(o.profile.Role,n)||(o.profile.Role=n),v(n)}),a()(),s(21,"button",35),c(22,"Save Changes"),a()()()()}if(i&2){let t=S();m(12),D("ngModel",t.profile.name),m(4),D("ngModel",t.profile.email),m(4),D("ngModel",t.profile.Role)}}function vm(i,e){if(i&1&&(s(0,"div",68)(1,"div",69)(2,"div")(3,"p",70),c(4),a(),s(5,"p",71),c(6),a()(),s(7,"span",72),c(8),a()(),s(9,"p",73),c(10),a(),s(11,"button",74),c(12,"View Details"),a()()),i&2){let t=e.$implicit;m(4),N("Order #",t.number),m(2),N("Placed on ",t.date),m(2),se(t.status),m(2),On("",t.items," items \u2022 $",t.total)}}function Em(i,e){if(i&1&&(s(0,"div",54)(1,"div",55)(2,"h2",56),c(3,"Order History"),a(),s(4,"p",57),c(5,"View your past orders"),a()(),s(6,"div",58)(7,"div",66),A(8,vm,13,5,"div",67),a()()()),i&2){let t=S();m(8),g("ngForOf",t.orders)}}function ym(i,e){if(i&1){let t=U();s(0,"div",54)(1,"div",55)(2,"h2",56),c(3,"Account Settings"),a(),s(4,"p",57),c(5,"Manage your account preferences"),a()(),s(6,"div",58)(7,"div")(8,"h3",75),c(9,"Security"),a(),s(10,"div",76)(11,"button",77),E("click",function(){b(t);let n=S();return v(n.openModal())}),c(12," Change Password "),a(),s(13,"button",77),E("click",function(){b(t);let n=S();return v(n.openTwoFactorModal())}),c(14," Two-Factor Authentication "),a(),s(15,"button",78),E("click",function(){b(t);let n=S();return v(n.openDeleteModal())}),c(16," Delete Account "),a()()()()()}}function wm(i,e){if(i&1){let t=U();s(0,"div")(1,"form",27),E("ngSubmit",function(){b(t);let n=S();return v(n.enableTwoFactor())}),s(2,"div",28)(3,"label",79),c(4,"Phone Number"),a(),s(5,"input",80),R("ngModelChange",function(n){b(t);let o=S();return L(o.twoFactorPhone,n)||(o.twoFactorPhone=n),v(n)}),a()(),s(6,"button",81),c(7,"Enable 2FA"),a()()()}if(i&2){let t=S();m(5),D("ngModel",t.twoFactorPhone)}}function Sm(i,e){if(i&1){let t=U();s(0,"div",82)(1,"p",83),c(2," Two-Factor Authentication is currently "),s(3,"strong"),c(4,"enabled"),a(),c(5,". "),a(),s(6,"button",84),E("click",function(){b(t);let n=S();return v(n.disableTwoFactor())}),c(7," Disable 2FA "),a()()}}var pr=class i{constructor(e){this.api=e;this.loadProfileFromJWT()}activeTab="profile";twoFactorModal=null;isTwoFactorEnabled=!1;confirmDelete=!1;deleteModal=null;twoFactorPhone="";profile={name:"",email:"",Role:"",id:""};jwtPayload=null;error="";loadProfileFromJWT(){let e=localStorage.getItem("jwt");if(e)try{let t=JSON.parse(atob(e.split(".")[1]));this.jwtPayload=t,this.profile.name=t.Name||t.name||"",this.profile.email=t.Email||t.email||"",this.profile.Role=t.Role||t.role||"",this.profile.id=t.id||t._id||""}catch{this.error="Invalid token"}}currentPassword="";newPassword="";confirmPassword="";modal=null;ngAfterViewInit(){let e=document.getElementById("changePasswordModal");e&&(this.modal=new $e(e,{backdrop:"static"}));let t=document.getElementById("twoFactorModal");t&&(this.twoFactorModal=new $e(t,{backdrop:"static"}));let r=document.getElementById("deleteAccountModal");r&&(this.deleteModal=new $e(r,{backdrop:"static"}))}openModal(){this.modal?.show()}closeModal(){this.modal?.hide()}changePassword(){if(this.newPassword!==this.confirmPassword){alert("New password and confirm password do not match.");return}this.error="",this.api.updateUserProfile({CurrentPassword:this.currentPassword,NewPassword:this.newPassword,ConfirmPassword:this.confirmPassword}).subscribe({next:e=>{e.user&&(this.profile.name=e.user.Name||this.profile.name,this.profile.email=e.user.Email||this.profile.email,this.profile.Role=e.user.Role||this.profile.Role),this.error=""},error:e=>{this.error=e?.error?.message||"Password update failed"}}),this.closeModal()}notifications={email:!0,sms:!0,orders:!0,marketing:!1};setActiveTab(e){this.activeTab=e,e==="orders"&&this.orders.length===0&&this.fetchOrders()}saveProfile(){this.error="",this.api.updateUserProfile({Name:this.profile.name}).subscribe({next:e=>{e.user&&(this.profile.name=e.user.Name||this.profile.name,this.profile.email=e.user.Email||this.profile.email,this.profile.Role=e.user.Role||this.profile.Role),this.error=""},error:e=>{this.error=e?.error?.message||"Update failed"}})}orders=[];fetchOrders(){this.api.getOrders().subscribe({next:e=>{let t=Array.isArray(e)?e:Array.isArray(e.orders)?e.orders:[];this.orders=t.map(r=>({id:r._id,number:r._id?String(r._id).slice(-6):"",date:r.createdAt?new Date(r.createdAt).toLocaleString():"",status:r.Status||r.status||"pending",items:Array.isArray(r.Books)?r.Books.reduce((n,o)=>n+(o.Quantity||0),0):0,total:r.TotalPrice||r.total||0,raw:r}))},error:e=>{this.error=e?.error?.message||"Failed to load orders"}})}openTwoFactorModal(){this.twoFactorModal?.show()}closeTwoFactorModal(){this.twoFactorModal?.hide()}enableTwoFactor(){if(!this.twoFactorPhone){alert("Please enter a valid phone number.");return}this.isTwoFactorEnabled=!0,this.closeTwoFactorModal();let e=document.getElementById("passwordToast");e&&(e.querySelector(".toast-body").textContent="\u2705 Two-Factor Authentication enabled!",new ot(e).show())}disableTwoFactor(){this.isTwoFactorEnabled=!1,this.closeTwoFactorModal();let e=document.getElementById("passwordToast");e&&(e.querySelector(".toast-body").textContent="\u274C Two-Factor Authentication disabled.",new ot(e).show())}openDeleteModal(){this.confirmDelete=!1,this.deleteModal?.show()}closeDeleteModal(){this.deleteModal?.hide()}deleteAccount(){this.closeDeleteModal();let e=document.getElementById("passwordToast");e&&(e.querySelector(".toast-body").textContent="\u{1F480} Account deleted successfully.",e.classList.remove("text-bg-success"),e.classList.add("text-bg-danger"),new ot(e).show()),console.warn("User account deleted!")}static \u0275fac=function(t){return new(t||i)($(ae))};static \u0275cmp=I({type:i,selectors:[["app-profile"]],standalone:!1,decls:99,vars:16,consts:[["disable2fa",""],[1,"min-vh-100",2,"background","linear-gradient(to bottom, var(--bs-body-bg), var(--bs-secondary))"],[1,"container",2,"padding-top","120px","padding-bottom","80px"],[2,"max-width","1000px","margin","0 auto"],[1,"mb-5"],[1,"display-5","fw-bold","mb-2"],[1,"text-muted-custom"],["role","tablist",1,"nav","nav-tabs","mb-4"],["role","presentation",1,"nav-item"],[1,"nav-link",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"me-2"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["d","M22 21v-2a4 4 0 0 0-3-3.87"],["d","M16 3.13a4 4 0 0 1 0 7.75"],["d","M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"],["cx","12","cy","12","r","3"],["class","card",4,"ngIf"],["id","changePasswordModal","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"mb-3"],["for","currentPassword",1,"form-label"],["type","password","id","currentPassword","name","currentPassword","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","newPassword",1,"form-label"],["type","password","id","newPassword","name","newPassword","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","name","confirmPassword","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],[1,"toast-container","position-fixed","bottom-0","end-0","p-3"],["id","passwordToast","role","alert",1,"toast","align-items-center","text-bg-success","border-0"],[1,"d-flex"],[1,"toast-body"],["type","button","data-bs-dismiss","toast",1,"btn-close","btn-close-white","me-2","m-auto"],["id","twoFactorModal","tabindex","-1","aria-hidden","true",1,"modal","fade"],[4,"ngIf","ngIfElse"],["id","deleteAccountModal","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","border-danger"],[1,"modal-header","bg-danger","text-white"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"form-check","mb-3"],["type","checkbox","id","confirmDelete",1,"form-check-input",3,"ngModelChange","ngModel"],["for","confirmDelete",1,"form-check-label"],[1,"d-flex","justify-content-end","gap-2"],[1,"btn","btn-outline-secondary",3,"click"],[1,"btn","btn-danger",3,"click","disabled"],[1,"card"],[1,"card-header"],[1,"h5","mb-0","fw-semibold"],[1,"text-muted-custom","small","mb-0"],[1,"card-body"],[1,"row","g-3","mb-3"],[1,"col-md-6"],[1,"form-label"],["type","text","name","name",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email","readonly","",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-4"],["type","text","name","Role","readonly","",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid","gap-3"],["class","border rounded p-3 hover-shadow",4,"ngFor","ngForOf"],[1,"border","rounded","p-3","hover-shadow"],[1,"d-flex","justify-content-between","align-items-start","mb-2"],[1,"fw-semibold","mb-1"],[1,"small","text-muted-custom","mb-0"],[1,"badge","bg-primary-subtle","text-primary-emphasis"],[1,"small","mb-3"],[1,"btn","btn-outline-secondary","btn-sm"],[1,"h6","fw-semibold","mb-3"],[1,"d-grid","gap-2"],["type","button",1,"btn","btn-outline-secondary","text-start",3,"click"],[1,"btn","btn-outline-danger","text-start",3,"click"],["for","phoneNumber",1,"form-label"],["type","tel","id","phoneNumber","name","phoneNumber","placeholder","+20 1023323888","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100"],[1,"text-center"],[1,"fw-semibold","mb-3","text-success"],[1,"btn","btn-outline-danger","w-100",3,"click"]],template:function(t,r){if(t&1){let n=U();s(0,"div",1)(1,"main",2)(2,"div",3)(3,"div",4)(4,"h1",5),c(5,"My Account"),a(),s(6,"p",6),c(7,"Manage your profile and preferences"),a()(),s(8,"ul",7)(9,"li",8)(10,"button",9),E("click",function(){return b(n),v(r.setActiveTab("profile"))}),q(),s(11,"svg",10),y(12,"path",11)(13,"circle",12),a(),c(14," Profile "),a()(),X(),s(15,"li",8)(16,"button",9),E("click",function(){return b(n),v(r.setActiveTab("orders"))}),q(),s(17,"svg",10),y(18,"path",13)(19,"circle",14)(20,"path",15)(21,"path",16),a(),c(22," Orders "),a()(),X(),s(23,"li",8)(24,"button",9),E("click",function(){return b(n),v(r.setActiveTab("settings"))}),q(),s(25,"svg",10),y(26,"path",17)(27,"circle",18),a(),c(28," Settings "),a()()(),A(29,bm,23,3,"div",19)(30,Em,9,1,"div",19)(31,ym,17,0,"div",19),a()()(),X(),s(32,"div",20)(33,"div",21)(34,"div",22)(35,"div",23)(36,"h5",24),c(37,"Change Password"),a(),s(38,"button",25),E("click",function(){return b(n),v(r.closeModal())}),a()(),s(39,"div",26)(40,"form",27),E("ngSubmit",function(){return b(n),v(r.changePassword())}),s(41,"div",28)(42,"label",29),c(43,"Current Password"),a(),s(44,"input",30),R("ngModelChange",function(l){return b(n),L(r.currentPassword,l)||(r.currentPassword=l),v(l)}),a()(),s(45,"div",28)(46,"label",31),c(47,"New Password"),a(),s(48,"input",32),R("ngModelChange",function(l){return b(n),L(r.newPassword,l)||(r.newPassword=l),v(l)}),a()(),s(49,"div",28)(50,"label",33),c(51,"Confirm New Password"),a(),s(52,"input",34),R("ngModelChange",function(l){return b(n),L(r.confirmPassword,l)||(r.confirmPassword=l),v(l)}),a()(),s(53,"button",35),c(54,"Change Password"),a()()()()()(),s(55,"div",36)(56,"div",37)(57,"div",38)(58,"div",39),c(59,"Password changed successfully!"),a(),y(60,"button",40),a()()(),s(61,"div",41)(62,"div",21)(63,"div",22)(64,"div",23)(65,"h5",24),c(66,"Two-Factor Authentication"),a(),s(67,"button",25),E("click",function(){return b(n),v(r.closeTwoFactorModal())}),a()(),s(68,"div",26)(69,"p",28),c(70," Add an extra layer of security to your account. When enabled, you\u2019ll be asked for a verification code in addition to your password when signing in. "),a(),A(71,wm,8,1,"div",42)(72,Sm,8,0,"ng-template",null,0,Ci),a()()()(),s(74,"div",43)(75,"div",44)(76,"div",45)(77,"div",46)(78,"h5",24),c(79,"Delete Account"),a(),s(80,"button",47),E("click",function(){return b(n),v(r.closeDeleteModal())}),a()(),s(81,"div",26)(82,"p",28),c(83," \u26A0\uFE0F Are you absolutely sure you want to "),s(84,"strong"),c(85,"delete your account"),a(),c(86,"? This action "),s(87,"strong"),c(88,"cannot be undone"),a(),c(89,". "),a(),s(90,"div",48)(91,"input",49),R("ngModelChange",function(l){return b(n),L(r.confirmDelete,l)||(r.confirmDelete=l),v(l)}),a(),s(92,"label",50),c(93," I understand the consequences. "),a()(),s(94,"div",51)(95,"button",52),E("click",function(){return b(n),v(r.closeDeleteModal())}),c(96,"Cancel"),a(),s(97,"button",53),E("click",function(){return b(n),v(r.deleteAccount())}),c(98," Delete Account "),a()()()()()()}if(t&2){let n=de(73);m(10),Ee("active",r.activeTab==="profile"),m(6),Ee("active",r.activeTab==="orders"),m(8),Ee("active",r.activeTab==="settings"),m(5),g("ngIf",r.activeTab==="profile"),m(),g("ngIf",r.activeTab==="orders"),m(),g("ngIf",r.activeTab==="settings"),m(13),D("ngModel",r.currentPassword),m(4),D("ngModel",r.newPassword),m(4),D("ngModel",r.confirmPassword),m(19),g("ngIf",!r.isTwoFactorEnabled)("ngIfElse",n),m(20),D("ngModel",r.confirmDelete),m(6),g("disabled",!r.confirmDelete)}},dependencies:[ue,ye,Qe,we,Ti,fe,Ge,Xe,he,ze],encapsulation:2})};function xm(i,e){if(i&1){let t=U();s(0,"div",25)(1,"div",11)(2,"div",4)(3,"div",26),y(4,"img",27),a(),s(5,"div",28)(6,"div",14)(7,"div")(8,"h3",29),c(9),a(),s(10,"p",30),c(11),a()(),s(12,"button",31),E("click",function(){let n=b(t).$implicit,o=S();return v(o.removeItem(n))}),q(),s(13,"svg",32),y(14,"path",33)(15,"path",34)(16,"path",35),a()()(),X(),s(17,"div",36)(18,"div",37)(19,"button",38),E("click",function(){let n=b(t).$implicit,o=S();return v(o.updateQuantity(n,-1))}),q(),s(20,"svg",39),y(21,"path",40),a()(),X(),s(22,"span",41),c(23),a(),s(24,"button",38),E("click",function(){let n=b(t).$implicit,o=S();return v(o.updateQuantity(n,1))}),q(),s(25,"svg",39),y(26,"path",40)(27,"path",42),a()()(),X(),s(28,"p",43),c(29),a()()()()()()}if(i&2){let t=e.$implicit;m(4),g("src",t.image,Ue)("alt",t.title),m(5),se(t.title),m(2),se(t.author),m(12),N(" ",t.quantity," "),m(6),N(" $",(t.price*t.quantity).toFixed(2)," ")}}var ur=class i{constructor(e){this.api=e}cartItems=[];loading=!1;errorMessage="";cartId="";ngOnInit(){this.loadCartItems()}loadCartItems(){this.loading=!0,this.api.getCartItems().subscribe({next:e=>{let t=e.Cart||e.cart||{};this.cartId=t._id||"";let r=Array.isArray(t.Items)?t.Items:[];this.cartItems=r.map(n=>({id:n._id,title:n.Book?.Title||"",BookId:n.Book?._id||"",author:"",price:Number(n.Book?.Price)||0,image:n.Book?.Image||"",Category:n.Book?.Category||"",quantity:n.Quantity||1})),this.loading=!1},error:e=>{console.error("Failed to load cart:",e),this.errorMessage="Failed to load cart items",this.loading=!1}})}get subtotal(){return this.cartItems.reduce((e,t)=>e+t.price*t.quantity,0)}get shipping(){return 5.99}get tax(){return this.subtotal*.08}get total(){return this.subtotal+this.shipping+this.tax}updateQuantity(e,t){let r=Math.max(1,e.quantity+t);this.api.updateCartItem(e.BookId,r).subscribe({next:()=>{e.quantity=r},error:n=>{console.error("Error updating quantity:",n)}})}removeItem(e){this.api.removeFromCart(e.BookId).subscribe({next:()=>{this.cartItems=this.cartItems.filter(t=>t.BookId!==e.BookId)},error:t=>{console.error("Error removing item:",t)}})}proceedToCheckout(){return Sn(this,null,function*(){let e=localStorage.getItem("jwt");if(!this.cartId){alert("Cart not loaded or empty.");return}try{let r=yield(yield fetch(`${Wn.apiUrl}/payment/create-payment-intent`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({CartId:this.cartId})})).json();if(r.url){if(r.sessionId||r.session_id){let n=r.sessionId||r.session_id;localStorage.setItem("stripe_session_id",n)}window.location.href=r.url}else console.error("No checkout URL returned:",r),alert("Failed to start checkout.")}catch(t){console.error("Checkout error:",t),alert("Failed to proceed to checkout.")}})}static \u0275fac=function(t){return new(t||i)($(ae))};static \u0275cmp=I({type:i,selectors:[["app-cart"]],standalone:!1,decls:45,vars:5,consts:[[1,"min-vh-100",2,"background","linear-gradient(to bottom, var(--bs-body-bg), var(--bs-secondary))"],[1,"container",2,"padding-top","120px","padding-bottom","80px"],[2,"max-width","1200px","margin","0 auto"],[1,"display-5","fw-bold","mb-5"],[1,"row","g-4"],[1,"col-lg-8"],[1,"d-grid","gap-3"],["class","card",4,"ngFor","ngForOf"],["routerLink","/category",1,"btn","btn-outline-secondary","w-100"],[1,"col-lg-4"],[1,"card","position-sticky",2,"top","120px"],[1,"card-body","p-4"],[1,"h4","fw-bold","mb-4"],[1,"border-top","border-bottom","py-3","mb-3"],[1,"d-flex","justify-content-between","mb-2"],[1,"text-muted-custom"],[1,"fw-medium"],[1,"d-flex","justify-content-between"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"fs-5","fw-bold"],[1,"display-6","fw-bold","text-primary-custom"],[1,"btn","btn-primary","w-100","btn-lg","mb-4",3,"click"],[1,"text-center","text-muted-custom","small"],[1,"mb-2"],[1,"mb-0"],[1,"card"],[1,"col-auto"],[1,"rounded",2,"width","96px","height","128px","object-fit","cover",3,"src","alt"],[1,"col"],[1,"h5","fw-semibold","mb-1"],[1,"text-muted-custom","small","mb-3"],[1,"btn","btn-icon","text-danger","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],[1,"d-flex","align-items-center","justify-content-between"],["role","group",1,"btn-group"],[1,"btn","btn-outline-secondary","btn-sm",2,"width","32px","height","32px","padding","0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","12","height","12","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M5 12h14"],[1,"btn","btn-outline-secondary","btn-sm","disabled",2,"width","32px","padding-top","5px"],["d","M12 5v14"],[1,"fs-4","fw-bold","text-primary-custom","mb-0"]],template:function(t,r){t&1&&(s(0,"div",0),y(1,"app-nav"),s(2,"main",1)(3,"div",2)(4,"h1",3),c(5,"Shopping Cart"),a(),s(6,"div",4)(7,"div",5)(8,"div",6),A(9,xm,30,6,"div",7),s(10,"a",8),c(11," Continue Shopping "),a()()(),s(12,"div",9)(13,"div",10)(14,"div",11)(15,"h2",12),c(16,"Order Summary"),a(),s(17,"div",13)(18,"div",14)(19,"span",15),c(20,"Subtotal"),a(),s(21,"span",16),c(22),a()(),s(23,"div",14)(24,"span",15),c(25,"Shipping"),a(),s(26,"span",16),c(27),a()(),s(28,"div",17)(29,"span",15),c(30,"Tax"),a(),s(31,"span",16),c(32),a()()(),s(33,"div",18)(34,"span",19),c(35,"Total"),a(),s(36,"span",20),c(37),a()(),s(38,"a",21),E("click",function(){return r.proceedToCheckout()}),c(39," Proceed to Checkout "),a(),s(40,"div",22)(41,"p",23),c(42,"Free shipping on orders over $50"),a(),s(43,"p",24),c(44,"30-day return policy"),a()()()()()()()()()),t&2&&(m(9),g("ngForOf",r.cartItems),m(13),N("$",r.subtotal.toFixed(2)),m(5),N("$",r.shipping.toFixed(2)),m(5),N("$",r.tax.toFixed(2)),m(5),N("$",r.total.toFixed(2)))},dependencies:[ue,De,Le],encapsulation:2})};var fr=class i{constructor(e,t){this.api=e;this.router=t}email="";password="";rememberMe=!1;error="";onSubmit(){this.error="",this.api.loginUser({email:this.email,password:this.password}).subscribe({next:e=>{e&&e.token?(localStorage.setItem("jwt",e.token),this.router.navigate(["/"])):this.error="Invalid login response"},error:e=>{this.error=e?.error?.message||"Login failed"}})}static \u0275fac=function(t){return new(t||i)($(ae),$(Ie))};static \u0275cmp=I({type:i,selectors:[["app-login"]],standalone:!1,decls:29,vars:2,consts:[[1,"min-vh-100","d-flex","align-items-center","justify-content-center","px-3",2,"background",`linear-gradient(
      135deg,
      var(--bs-body-bg),
      rgba(var(--bs-secondary-rgb), 0.3),
      rgba(var(--bs-primary-rgb), 0.05)
    )`],[1,"card","shadow-lg","border-0",2,"max-width","450px","width","100%"],[1,"card-body","p-5"],[1,"text-center","mb-4"],["routerLink","/",1,"text-decoration-none"],[1,"h3","fw-bold","mb-3",2,"letter-spacing","0.1em"],[1,"h4","fw-bold"],[1,"text-muted-custom"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","name@example.com","required","",1,"form-control","form-control-lg",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","placeholder","Enter your password","required","",1,"form-control","form-control-lg",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["href","#","routerLink","/forget",1,"small","text-primary-custom","text-decoration-none"],["type","submit",1,"btn","btn-primary","w-100","btn-lg","mb-4"],[1,"text-center","small","text-muted-custom","mb-0"],["routerLink","/register",1,"text-primary-custom","text-decoration-none","fw-medium","ms-1"]],template:function(t,r){t&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"h1",5),c(6,"BOOKVERSE"),a()(),s(7,"h2",6),c(8,"Welcome Back"),a(),s(9,"p",7),c(10,"Login to your account to continue"),a()(),s(11,"form",8),E("ngSubmit",function(){return r.onSubmit()}),s(12,"div",9)(13,"label",10),c(14,"Email"),a(),s(15,"input",11),R("ngModelChange",function(o){return L(r.email,o)||(r.email=o),o}),a()(),s(16,"div",9)(17,"label",12),c(18,"Password"),a(),s(19,"input",13),R("ngModelChange",function(o){return L(r.password,o)||(r.password=o),o}),a()(),s(20,"div",14)(21,"a",15),c(22," Forgot password? "),a()(),s(23,"button",16),c(24,"Sign In"),a()(),s(25,"p",17),c(26," Don't have an account? "),s(27,"a",18),c(28," Sign up "),a()()()()()),t&2&&(m(15),D("ngModel",r.email),m(4),D("ngModel",r.password))},dependencies:[De,Qe,we,fe,Ge,Xe,he,ze],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--bs-secondary)}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:2rem;background:#fff;border-radius:var(--bs-border-radius);box-shadow:var(--shadow-card)}"]})};function Cm(i,e){i&1&&(s(0,"div",32),c(1," Name is required "),a())}function Tm(i,e){i&1&&(s(0,"div"),c(1,"Email is required"),a())}function Am(i,e){i&1&&(s(0,"div"),c(1,"Please enter a valid email"),a())}function Om(i,e){if(i&1&&(s(0,"div",32),A(1,Tm,2,0,"div",33)(2,Am,2,0,"div",33),a()),i&2){S();let t=de(24);m(),g("ngIf",t.errors==null?null:t.errors.required),m(),g("ngIf",t.errors==null?null:t.errors.email)}}function km(i,e){i&1&&(s(0,"div"),c(1,"Password is required"),a())}function Nm(i,e){i&1&&(s(0,"div"),c(1,"Password must be at least 8 characters"),a())}function Mm(i,e){if(i&1&&(s(0,"div",32),A(1,km,2,0,"div",33)(2,Nm,2,0,"div",33),a()),i&2){S();let t=de(30);m(),g("ngIf",t.errors==null?null:t.errors.required),m(),g("ngIf",t.errors==null?null:t.errors.minlength)}}function Pm(i,e){i&1&&(s(0,"div",32),c(1," Passwords do not match "),a())}var hr=class i{constructor(e,t){this.api=e;this.router=t}form={Name:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1};error="";onSubmit(){if(this.error="",this.form.password!==this.form.confirmPassword){this.error="Passwords do not match";return}let e={Name:this.form.Name,Email:this.form.email,Password:this.form.password};this.api.registerUser(e).subscribe({next:t=>{this.router.navigate(["/login"])},error:t=>{this.error=t?.error?.message||"Registration failed"}})}navigateToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||i)($(ae),$(Ie))};static \u0275cmp=I({type:i,selectors:[["app-register"]],standalone:!1,decls:52,vars:10,consts:[["registerForm","ngForm"],["firstName","ngModel"],["email","ngModel"],["password","ngModel"],[1,"min-vh-100","d-flex","align-items-center","justify-content-center","px-3",2,"background",`linear-gradient(
      135deg,
      var(--bs-body-bg),
      rgba(var(--bs-secondary-rgb), 0.3),
      rgba(var(--bs-primary-rgb), 0.05)
    )`],[1,"card","shadow-lg","border-0",2,"max-width","600px","width","100%"],[1,"card-body","p-5"],[1,"text-center","mb-4"],["routerLink","/",1,"text-decoration-none"],[1,"h3","fw-bold","mb-3",2,"letter-spacing","0.1em"],[1,"h4","fw-bold"],[1,"text-muted-custom"],[3,"ngSubmit"],[1,"row","g-3","mb-3"],[1,"col-md-6"],["for","firstName",1,"form-label"],["type","text","id","firstName","name","firstName","required","",1,"form-control","form-control-lg",3,"ngModelChange","ngModel"],["class","text-danger small mt-1",4,"ngIf"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","email","",1,"form-control","form-control-lg",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","minlength","8",1,"form-control","form-control-lg",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","name","confirmPassword","required","",1,"form-control","form-control-lg",3,"ngModelChange","ngModel"],[1,"mb-4","form-check"],["type","checkbox","id","agreeToTerms","name","agreeToTerms","required","",1,"form-check-input",3,"ngModelChange","ngModel"],["for","agreeToTerms",1,"form-check-label"],["href","#",1,"text-primary"],["type","submit",1,"btn","btn-primary","w-100","btn-lg","mb-3",3,"disabled"],[1,"text-center","small","text-muted-custom","mb-0"],["routerLink","/login",1,"text-primary-custom","text-decoration-none","fw-medium","ms-1"],[1,"text-danger","small","mt-1"],[4,"ngIf"]],template:function(t,r){if(t&1){let n=U();s(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"a",8)(5,"h1",9),c(6,"BOOKVERSE"),a()(),s(7,"h2",10),c(8,"Create Account"),a(),s(9,"p",11),c(10,"Join our community of book lovers"),a()(),s(11,"form",12,0),E("ngSubmit",function(){return b(n),v(r.onSubmit())}),s(13,"div",13)(14,"div",14)(15,"label",15),c(16,"Name"),a(),s(17,"input",16,1),R("ngModelChange",function(l){return b(n),L(r.form.Name,l)||(r.form.Name=l),v(l)}),a(),A(19,Cm,2,0,"div",17),a()(),s(20,"div",18)(21,"label",19),c(22,"Email address"),a(),s(23,"input",20,2),R("ngModelChange",function(l){return b(n),L(r.form.email,l)||(r.form.email=l),v(l)}),a(),A(25,Om,3,2,"div",17),a(),s(26,"div",18)(27,"label",21),c(28,"Password"),a(),s(29,"input",22,3),R("ngModelChange",function(l){return b(n),L(r.form.password,l)||(r.form.password=l),v(l)}),a(),A(31,Mm,3,2,"div",17),a(),s(32,"div",18)(33,"label",23),c(34,"Confirm Password"),a(),s(35,"input",24),R("ngModelChange",function(l){return b(n),L(r.form.confirmPassword,l)||(r.form.confirmPassword=l),v(l)}),a(),A(36,Pm,2,0,"div",17),a(),s(37,"div",25)(38,"input",26),R("ngModelChange",function(l){return b(n),L(r.form.agreeToTerms,l)||(r.form.agreeToTerms=l),v(l)}),a(),s(39,"label",27),c(40," I agree to the "),s(41,"a",28),c(42,"Terms of Service"),a(),c(43," and "),s(44,"a",28),c(45,"Privacy Policy"),a()()(),s(46,"button",29),c(47," Create Account "),a(),s(48,"p",30),c(49," Already have an account? "),s(50,"a",31),c(51," Sign In "),a()()()()()()}if(t&2){let n=de(12),o=de(18),l=de(24),d=de(30);m(17),D("ngModel",r.form.Name),m(2),g("ngIf",o.invalid&&(o.dirty||o.touched)),m(4),D("ngModel",r.form.email),m(2),g("ngIf",l.invalid&&(l.dirty||l.touched)),m(4),D("ngModel",r.form.password),m(2),g("ngIf",d.invalid&&(d.dirty||d.touched)),m(4),D("ngModel",r.form.confirmPassword),m(),g("ngIf",r.form.password!==r.form.confirmPassword&&r.form.confirmPassword),m(2),D("ngModel",r.form.agreeToTerms),m(8),g("disabled",n.invalid||r.form.password!==r.form.confirmPassword)}},dependencies:[ye,De,Qe,we,Ti,fe,Ge,Xe,$n,Rn,Ni,he,ze],styles:[".search-container[_ngcontent-%COMP%]{position:absolute;top:100%;right:1rem;width:0;opacity:0;overflow:hidden;transition:all .4s ease-in-out}.search-container.active[_ngcontent-%COMP%]{width:250px;opacity:1}.search-input[_ngcontent-%COMP%]{border-radius:50px;border:1px solid var(--bs-border-color);padding:.5rem 1rem;transition:all .3s ease}.search-input[_ngcontent-%COMP%]:focus{border-color:var(--bs-primary);box-shadow:0 0 0 .15rem rgba(var(--bs-primary-rgb),.2);outline:none}"]})};function Im(i,e){i&1&&(s(0,"div"),c(1,"Email is required"),a())}function Dm(i,e){i&1&&(s(0,"div"),c(1,"Please enter a valid email"),a())}function Lm(i,e){if(i&1&&(s(0,"div",18),A(1,Im,2,0,"div",19)(2,Dm,2,0,"div",19),a()),i&2){S();let t=de(17);m(),g("ngIf",t.errors==null?null:t.errors.required),m(),g("ngIf",t.errors==null?null:t.errors.email)}}var gr=class i{email="";onSubmit(){console.log("Password reset requested")}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=I({type:i,selectors:[["app-forget"]],standalone:!1,decls:25,vars:3,consts:[["forgotForm","ngForm"],["emailInput","ngModel"],[1,"min-vh-100","d-flex","align-items-center","justify-content-center","px-3",2,"background",`linear-gradient(
      135deg,
      var(--bs-body-bg),
      rgba(var(--bs-secondary-rgb), 0.3),
      rgba(var(--bs-primary-rgb), 0.05)
    )`],[1,"card","shadow-lg","border-0",2,"max-width","450px","width","100%"],[1,"card-body","p-5"],[1,"text-center","mb-4"],["routerLink","/",1,"text-decoration-none"],[1,"h3","fw-bold","mb-3",2,"letter-spacing","0.1em"],[1,"h4","fw-bold"],[1,"text-muted-custom"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","email","","placeholder","name@example.com",1,"form-control","form-control-lg",3,"ngModelChange","ngModel"],["class","text-danger small mt-1",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100","btn-lg","mb-3",3,"disabled"],[1,"text-center","small","text-muted-custom","mb-0"],["routerLink","/login",1,"text-primary-custom","text-decoration-none","fw-medium","ms-1"],[1,"text-danger","small","mt-1"],[4,"ngIf"]],template:function(t,r){if(t&1){let n=U();s(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"a",6)(5,"h1",7),c(6,"BOOKVERSE"),a()(),s(7,"h2",8),c(8,"Forgot Password"),a(),s(9,"p",9),c(10,"Enter your email to reset your password"),a()(),s(11,"form",10,0),E("ngSubmit",function(){return b(n),v(r.onSubmit())}),s(13,"div",11)(14,"label",12),c(15,"Email address"),a(),s(16,"input",13,1),R("ngModelChange",function(l){return b(n),L(r.email,l)||(r.email=l),v(l)}),a(),A(18,Lm,3,2,"div",14),a(),s(19,"button",15),c(20," Send Reset Link "),a(),s(21,"p",16),c(22," Remember your password? "),s(23,"a",17),c(24," Sign In "),a()()()()()()}if(t&2){let n=de(12),o=de(17);m(16),D("ngModel",r.email),m(2),g("ngIf",o.invalid&&(o.dirty||o.touched)),m(),g("disabled",n.invalid)}},dependencies:[ye,De,Qe,we,fe,Ge,Xe,Ni,he,ze],encapsulation:2})};var ms=()=>[];function Rm(i,e){i&1&&(s(0,"div",26)(1,"div",27)(2,"span",28),c(3,"Loading..."),a()()())}function $m(i,e){if(i&1&&(s(0,"div",29),c(1),a()),i&2){let t=S();m(),N(" ",t.error," ")}}function Vm(i,e){if(i&1&&y(0,"img",30),i&2){let t=S();g("src",t.book==null?null:t.book.image,Ue)("alt",t.book==null?null:t.book.title)}}function Fm(i,e){i&1&&(s(0,"div",31),y(1,"i",32),s(2,"p",33),c(3,"No image available"),a()())}function Bm(i,e){if(i&1){let t=U();s(0,"div",16)(1,"div",34)(2,"div",12)(3,"h3",35),c(4,"Write a Review"),a(),s(5,"div",36)(6,"label",37),c(7,"Rating"),a(),s(8,"select",38),R("ngModelChange",function(n){b(t);let o=S();return L(o.newReview.rating,n)||(o.newReview.rating=n),v(n)}),s(9,"option",39),c(10,"5 Stars"),a(),s(11,"option",40),c(12,"4 Stars"),a(),s(13,"option",41),c(14,"3 Stars"),a(),s(15,"option",42),c(16,"2 Stars"),a(),s(17,"option",43),c(18,"1 Star"),a()()(),s(19,"div",36)(20,"label",37),c(21,"Your Review"),a(),s(22,"textarea",44),R("ngModelChange",function(n){b(t);let o=S();return L(o.newReview.comment,n)||(o.newReview.comment=n),v(n)}),a()(),s(23,"button",45),E("click",function(){b(t);let n=S();return v(n.submitReview())}),c(24,"Submit Review"),a()()()()}if(i&2){let t=S();m(8),D("ngModel",t.newReview.rating),m(14),D("ngModel",t.newReview.comment)}}function Wm(i,e){i&1&&(s(0,"div",46)(1,"div",47)(2,"span",28),c(3,"Loading reviews..."),a()()())}function Hm(i,e){i&1&&y(0,"i",57)}function jm(i,e){i&1&&y(0,"i",58)}function Km(i,e){if(i&1&&(s(0,"div",50)(1,"div",12)(2,"div",51)(3,"div",52),A(4,Hm,1,0,"i",53)(5,jm,1,0,"i",54),a()(),s(6,"p",55),c(7),a(),s(8,"small",56),c(9),kn(10,"date"),a()()()),i&2){let t=e.$implicit;m(4),g("ngForOf",Qt(6,ms).constructor(t.Rating)),m(),g("ngForOf",Qt(7,ms).constructor(5-t.Rating)),m(2),se(t.Review),m(2),se(Nn(10,4,t.CreatedAT))}}function Ym(i,e){if(i&1&&(s(0,"div",48),A(1,Km,11,8,"div",49),a()),i&2){let t=S();m(),g("ngForOf",t.reviews)}}function qm(i,e){i&1&&(s(0,"div",59)(1,"p",60),c(2,"No reviews yet. Be the first to review this book!"),a()())}var _r=class i{constructor(e,t){this.route=e;this.api=t}book=null;loading=!0;error="";quantity=1;reviews=[];isLoggedIn=!1;newReview={rating:5,comment:""};ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&(this.loadBook(e),this.loadReviews(e)),this.isLoggedIn=!0}loadBook(e){this.loading=!0,this.api.getBookById(e).subscribe({next:t=>{console.log("API Response:",t),t&&t.book&&(this.book={id:t.book._id,title:t.book.Title,BookId:t.book._id,author:t.book.Author,price:t.book.Price,description:t.book.Description,image:t.book.Image,Category:t.book.Category}),console.log("Processed book data:",this.book),this.loading=!1},error:t=>{this.error="Error loading book details",this.loading=!1,console.error("API Error:",t)}})}loadReviews(e){this.api.getReviewsByBookId(e).subscribe({next:t=>{console.log("Reviews Response:",t),Array.isArray(t)&&(this.reviews=t.map(r=>({_id:r._id,User:r.User,Book:r.Book,Rating:r.Rating,Review:r.Review,CreatedAT:r.CreatedAT||r.createdAt,createdAt:r.createdAt,updatedAt:r.updatedAt})),console.log("Processed reviews:",this.reviews))},error:t=>{console.error("Error loading reviews:",t)}})}addBookToCart(){this.book?.id&&this.api.addBookToCart(this.book.id,this.quantity).subscribe({next:()=>{this.error=""},error:e=>{this.error="Error adding to cart",console.error(e)}})}addToWishlist(){this.book?.id&&this.api.addToWishlist(this.book.id).subscribe({next:()=>{this.error=""},error:e=>{this.error="Error adding to wishlist",console.error(e)}})}submitReview(){if(this.book?.id&&this.newReview.comment.trim()){let e={Book:this.book.id,Rating:this.newReview.rating,Review:this.newReview.comment};this.api.addReview(e).subscribe({next:t=>{console.log("Review submitted successfully:",t),this.book?.id&&this.loadReviews(this.book.id),this.newReview={rating:5,comment:""},this.error=""},error:t=>{this.error="Error submitting review",console.error("Error submitting review:",t)}})}}static \u0275fac=function(t){return new(t||i)($(Mi),$(ae))};static \u0275cmp=I({type:i,selectors:[["app-product"]],standalone:!1,decls:37,vars:15,consts:[["noImage",""],[1,"min-vh-100",2,"background","linear-gradient(to bottom, var(--bs-body-bg), var(--bs-secondary))"],[1,"container",2,"padding-top","120px","padding-bottom","80px"],["class","text-center py-5",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"row","g-4"],[1,"col-lg-5"],[1,"card","shadow-lg","border"],[1,"card-body","p-3"],["class","img-fluid rounded",3,"src","alt",4,"ngIf","ngIfElse"],[1,"col-lg-7"],[1,"card","shadow-lg","border","mb-4"],[1,"card-body"],[1,"display-5","fw-bold","mb-3"],[1,"fs-4","text-primary","mb-2"],[1,"fs-5","mb-4"],[1,"mb-4"],[1,"badge","bg-primary","me-2"],[1,"fs-5","text-muted-custom","mb-4"],[1,"d-flex","gap-3"],[1,"btn","btn-outline-primary","btn-lg",3,"click"],[1,"h4","fw-bold","mb-4"],["class","mb-4",4,"ngIf"],["class","text-center py-3",4,"ngIf"],["class","d-grid gap-4",4,"ngIf"],["class","text-center py-4",4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger"],[1,"img-fluid","rounded",3,"src","alt"],[1,"text-center","p-5","bg-light","rounded"],[1,"bi","bi-image","fs-1","text-muted"],[1,"mt-2","mb-0","text-muted"],[1,"card","bg-light","border-0","mb-3"],[1,"h6","fw-semibold","mb-3"],[1,"mb-3"],[1,"form-label"],[1,"form-select",3,"ngModelChange","ngModel"],["value","5"],["value","4"],["value","3"],["value","2"],["value","1"],["rows","3",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click"],[1,"text-center","py-3"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"d-grid","gap-4"],["class","card bg-light border-0",4,"ngFor","ngForOf"],[1,"card","bg-light","border-0"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"text-warning"],["class","bi bi-star-fill me-1",4,"ngFor","ngForOf"],["class","bi bi-star text-muted me-1",4,"ngFor","ngForOf"],[1,"mb-1"],[1,"text-muted"],[1,"bi","bi-star-fill","me-1"],[1,"bi","bi-star","text-muted","me-1"],[1,"text-center","py-4"],[1,"text-muted","mb-0"]],template:function(t,r){if(t&1){let n=U();s(0,"div",1),y(1,"app-nav"),s(2,"main",2),A(3,Rm,4,0,"div",3)(4,$m,2,1,"div",4),s(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),A(9,Vm,1,2,"img",9)(10,Fm,4,0,"ng-template",null,0,Ci),a()()(),s(12,"div",10)(13,"div",11)(14,"div",12)(15,"h1",13),c(16),a(),s(17,"p",14),c(18),a(),s(19,"p",15),c(20),a(),s(21,"div",16)(22,"span",17),c(23),a()(),s(24,"p",18),c(25),a(),s(26,"div",19)(27,"button",20),E("click",function(){return b(n),v(r.addToWishlist())}),c(28," Add to Wishlist "),a()()()(),s(29,"div",7)(30,"div",12)(31,"h2",21),c(32,"Customer Reviews"),a(),A(33,Bm,25,2,"div",22)(34,Wm,4,0,"div",23)(35,Ym,2,1,"div",24)(36,qm,3,0,"div",25),a()()()()()()}if(t&2){let n=de(11);m(3),g("ngIf",r.loading),m(),g("ngIf",r.error),m(),Ee("opacity-50",r.loading),m(4),g("ngIf",r.book==null?null:r.book.image)("ngIfElse",n),m(7),se((r.book==null?null:r.book.title)||"Loading..."),m(2),N("$",(r.book==null?null:r.book.price)||"0"),m(2),N("by ",(r.book==null?null:r.book.author)||"Unknown Author"),m(3),se((r.book==null?null:r.book.Category)||"Uncategorized"),m(2),N(" ",(r.book==null?null:r.book.description)||"No description available"," "),m(8),g("ngIf",r.isLoggedIn),m(),g("ngIf",r.loading),m(),g("ngIf",!r.loading&&r.reviews&&r.reviews.length>0),m(),g("ngIf",r.reviews.length===0)}},dependencies:[ue,ye,Oi,ki,we,Ai,fe,he,Le,Mn],encapsulation:2})};var Um=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Li},{path:"category",component:$i},{path:"profile",component:pr},{path:"cart",component:ur},{path:"login",component:fr},{path:"register",component:hr},{path:"forget",component:gr},{path:"product/:id",component:_r},{path:"success",loadComponent:()=>import("./chunk-UVVWN3UN.js").then(i=>i.Success)}],br=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=xi({type:i});static \u0275inj=Si({imports:[Xt.forRoot(Um),Xt]})};var vr=class i{title=Tn("angular_front-end");static \u0275fac=function(t){return new(t||i)};static \u0275cmp=I({type:i,selectors:[["app-root"]],standalone:!1,decls:2,vars:0,template:function(t,r){t&1&&y(0,"app-nav")(1,"router-outlet")},dependencies:[Fn,Le],encapsulation:2})};var Er=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=xi({type:i,bootstrap:[vr]});static \u0275inj=Si({providers:[Cn(),Ln()],imports:[Dn,Pn,br,Vn,Xt]})};In().bootstrapModule(Er).catch(i=>console.error(i));
