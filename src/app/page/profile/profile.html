<div
  class="min-vh-100"
  style="background: linear-gradient(to bottom, var(--bs-body-bg), var(--bs-secondary))"
>
  <app-nav></app-nav>

  <main class="container" style="padding-top: 120px; padding-bottom: 80px">
    <div style="max-width: 1000px; margin: 0 auto">
      <div class="mb-5">
        <h1 class="display-5 fw-bold mb-2">My Account</h1>
        <p class="text-muted-custom">Manage your profile and preferences</p>
      </div>

      <!-- Tabs -->
      <ul class="nav nav-tabs mb-4" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            [class.active]="activeTab === 'profile'"
            (click)="setActiveTab('profile')"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              class="me-2"
            >
              <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" />
              <circle cx="12" cy="7" r="4" />
            </svg>
            Profile
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            [class.active]="activeTab === 'orders'"
            (click)="setActiveTab('orders')"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              class="me-2"
            >
              <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
              <circle cx="9" cy="7" r="4" />
              <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
              <path d="M16 3.13a4 4 0 0 1 0 7.75" />
            </svg>
            Orders
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            [class.active]="activeTab === 'wishlist'"
            (click)="setActiveTab('wishlist')"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              class="me-2"
            >
              <path
                d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"
              />
            </svg>
            Wishlist
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            [class.active]="activeTab === 'settings'"
            (click)="setActiveTab('settings')"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              class="me-2"
            >
              <path
                d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"
              />
              <circle cx="12" cy="12" r="3" />
            </svg>
            Settings
          </button>
        </li>
      </ul>

      <!-- Profile Tab -->
      <div *ngIf="activeTab === 'profile'" class="card">
        <div class="card-header">
          <h2 class="h5 mb-0 fw-semibold">Profile Information</h2>
          <p class="text-muted-custom small mb-0">Update your personal details</p>
        </div>
        <div class="card-body">
          <div class="d-flex align-items-center gap-3 mb-4">
            <div
              class="rounded-circle d-flex align-items-center justify-content-center text-white fw-bold"
              style="width: 96px; height: 96px; background: var(--gradient-accent); font-size: 2rem"
            >
              JD
            </div>
            <button class="btn btn-outline-secondary">Change Avatar</button>
          </div>

          <form (ngSubmit)="saveProfile()">
            <div class="row g-3 mb-3">
              <div class="col-md-6">
                <label class="form-label">First Name</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="profile.firstName"
                  name="firstName"
                />
              </div>
              <div class="col-md-6">
                <label class="form-label">Last Name</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="profile.lastName"
                  name="lastName"
                />
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">Email</label>
              <input type="email" class="form-control" [(ngModel)]="profile.email" name="email" />
            </div>

            <div class="mb-4">
              <label class="form-label">Phone Number</label>
              <input type="tel" class="form-control" [(ngModel)]="profile.phone" name="phone" />
            </div>

            <button type="submit" class="btn btn-primary">Save Changes</button>
          </form>
        </div>
      </div>

      <!-- Orders Tab -->
      <div *ngIf="activeTab === 'orders'" class="card">
        <div class="card-header">
          <h2 class="h5 mb-0 fw-semibold">Order History</h2>
          <p class="text-muted-custom small mb-0">View your past orders</p>
        </div>
        <div class="card-body">
          <div class="d-grid gap-3">
            <div *ngFor="let order of orders" class="border rounded p-3 hover-shadow">
              <div class="d-flex justify-content-between align-items-start mb-2">
                <div>
                  <p class="fw-semibold mb-1">Order #{{ order.number }}</p>
                  <p class="small text-muted-custom mb-0">Placed on {{ order.date }}</p>
                </div>
                <span class="badge bg-primary-subtle text-primary-emphasis">{{
                  order.status
                }}</span>
              </div>
              <p class="small mb-3">{{ order.items }} items â€¢ ${{ order.total }}</p>
              <button class="btn btn-outline-secondary btn-sm">View Details</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Wishlist Tab -->
      <div *ngIf="activeTab === 'wishlist'" class="card">
        <div class="card-header">
          <h2 class="h5 mb-0 fw-semibold">My Wishlist</h2>
          <p class="text-muted-custom small mb-0">Books you've saved for later</p>
        </div>
        <div class="card-body">
          <div class="row g-3">
            <div *ngFor="let item of wishlistItems" class="col-md-6">
              <div class="border rounded p-3 hover-shadow">
                <div class="d-flex gap-3 mb-3">
                  <div class="bg-gradient-card rounded" style="width: 64px; height: 96px"></div>
                  <div class="flex-grow-1">
                    <h4 class="h6 fw-semibold mb-1">{{ item.title }}</h4>
                    <p class="small text-muted-custom mb-2">{{ item.author }}</p>
                    <p class="fw-bold text-primary-custom mb-0">{{ item.price }}</p>
                  </div>
                </div>
                <div class="d-flex gap-2">
                  <button class="btn btn-primary btn-sm flex-grow-1">Add to Cart</button>
                  <button class="btn btn-outline-secondary btn-sm">Remove</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Settings Tab -->
      <div *ngIf="activeTab === 'settings'" class="card">
        <div class="card-header">
          <h2 class="h5 mb-0 fw-semibold">Account Settings</h2>
          <p class="text-muted-custom small mb-0">Manage your account preferences</p>
        </div>
        <div class="card-body">
          <div class="mb-5">
            <h3 class="h6 fw-semibold mb-3">Notifications</h3>
            <div class="d-grid gap-3">
              <div class="d-flex justify-content-between align-items-center">
                <span class="small">Email notifications</span>
                <div class="form-check form-switch">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    [(ngModel)]="notifications.email"
                  />
                </div>
              </div>
              <div class="d-flex justify-content-between align-items-center">
                <span class="small">SMS notifications</span>
                <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" [(ngModel)]="notifications.sms" />
                </div>
              </div>
              <div class="d-flex justify-content-between align-items-center">
                <span class="small">Order updates</span>
                <div class="form-check form-switch">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    [(ngModel)]="notifications.orders"
                  />
                </div>
              </div>
              <div class="d-flex justify-content-between align-items-center">
                <span class="small">Marketing emails</span>
                <div class="form-check form-switch">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    [(ngModel)]="notifications.marketing"
                  />
                </div>
              </div>
            </div>
          </div>

          <div>
            <h3 class="h6 fw-semibold mb-3">Security</h3>
            <div class="d-grid gap-2">
              <button class="btn btn-outline-secondary text-start">Change Password</button>
              <button class="btn btn-outline-secondary text-start">
                Two-Factor Authentication
              </button>
              <button class="btn btn-outline-danger text-start">Delete Account</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
